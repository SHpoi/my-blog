{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/material/source/css/disqus-proxy.css","path":"css/disqus-proxy.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/disqus-proxy.min.css","path":"css/disqus-proxy.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/duoshuo.css","path":"css/duoshuo.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/duoshuo.min.css","path":"css/duoshuo.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/fontawesome.min.css","path":"css/fontawesome.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/gallery.min.css","path":"css/gallery.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/ie-blocker.css","path":"css/ie-blocker.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/uc.css","path":"css/uc.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/style.css","path":"css/style.css","modified":0,"renderable":1},{"_id":"themes/material/source/css/style.min.css","path":"css/style.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.woff","path":"fonts/MaterialIcons-Regular.woff","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.woff2","path":"fonts/MaterialIcons-Regular.woff2","modified":0,"renderable":1},{"_id":"themes/material/source/img/avatar.png","path":"img/avatar.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/browserstack_logo.png","path":"img/browserstack_logo.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/bg.png","path":"img/bg.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/favicon.png","path":"img/favicon.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/logo.png","path":"img/logo.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/sidebar_header.png","path":"img/sidebar_header.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/upyun_logo.svg","path":"img/upyun_logo.svg","modified":0,"renderable":1},{"_id":"themes/material/source/js/ie-blocker.en.js","path":"js/ie-blocker.en.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/ie-blocker.zhCN.js","path":"js/ie-blocker.zhCN.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/lazyload.min.js","path":"js/lazyload.min.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/lsloader.js","path":"js/lsloader.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/lsloader.min.js","path":"js/lsloader.min.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/mathjax.js","path":"js/mathjax.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/nprogress.js","path":"js/nprogress.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/queue.js","path":"js/queue.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/queue.min.js","path":"js/queue.min.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/smoothscroll.js","path":"js/smoothscroll.js","modified":0,"renderable":1},{"_id":"themes/material/source/css/material.min.css","path":"css/material.min.css","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.ttf","path":"fonts/MaterialIcons-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/fontawesome-webfont.woff","path":"fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/fontawesome-webfont.woff2","path":"fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/material/source/img/daily_pic.png","path":"img/daily_pic.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/user.jpeg","path":"img/user.jpeg","modified":0,"renderable":1},{"_id":"themes/material/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/js.js","path":"js/js.js","modified":0,"renderable":1},{"_id":"themes/material/source/js/js.min.js","path":"js/js.min.js","modified":0,"renderable":1},{"_id":"themes/material/source/css/material.css","path":"css/material.css","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/FontAwesome.otf","path":"fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.eot","path":"fonts/MaterialIcons-Regular.eot","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/fontawesome-webfont.eot","path":"fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/fontawesome-webfont.ttf","path":"fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-bilibili.svg","path":"img/footer/footer_ico-bilibili.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-facebook.svg","path":"img/footer/footer_ico-facebook.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-github.svg","path":"img/footer/footer_ico-github.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-gplus.svg","path":"img/footer/footer_ico-gplus.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-instagram.svg","path":"img/footer/footer_ico-instagram.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-linkedin.svg","path":"img/footer/footer_ico-linkedin.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-telegram.svg","path":"img/footer/footer_ico-telegram.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-tumblr.svg","path":"img/footer/footer_ico-tumblr.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-twitter.svg","path":"img/footer/footer_ico-twitter.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-weibo.svg","path":"img/footer/footer_ico-weibo.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/footer/footer_ico-zhihu.svg","path":"img/footer/footer_ico-zhihu.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/gallery/arrow.svg","path":"img/gallery/arrow.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/gallery/close.svg","path":"img/gallery/close.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/gallery/spinner.svg","path":"img/gallery/spinner.svg","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-10.png","path":"img/random/material-10.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-12.png","path":"img/random/material-12.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-17.png","path":"img/random/material-17.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-19.png","path":"img/random/material-19.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-3.png","path":"img/random/material-3.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-4.png","path":"img/random/material-4.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-6.png","path":"img/random/material-6.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-9.png","path":"img/random/material-9.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-8.png","path":"img/random/material-8.png","modified":0,"renderable":1},{"_id":"themes/material/source/js/gallery/gallery.js","path":"js/gallery/gallery.js","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-1.png","path":"img/random/material-1.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-11.png","path":"img/random/material-11.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-13.png","path":"img/random/material-13.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-14.png","path":"img/random/material-14.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-15.png","path":"img/random/material-15.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-16.png","path":"img/random/material-16.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-18.png","path":"img/random/material-18.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-2.png","path":"img/random/material-2.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-5.png","path":"img/random/material-5.png","modified":0,"renderable":1},{"_id":"themes/material/source/img/random/material-7.png","path":"img/random/material-7.png","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/fontawesome-webfont.svg","path":"fonts/fontawesome-webfont.svg","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Black.ttf","path":"fonts/Roboto-Black.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Bold.ttf","path":"fonts/Roboto-Bold.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Light.ttf","path":"fonts/Roboto-Light.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Medium.ttf","path":"fonts/Roboto-Medium.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Regular.ttf","path":"fonts/Roboto-Regular.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/fonts/Roboto-Thin.ttf","path":"fonts/Roboto-Thin.ttf","modified":0,"renderable":1},{"_id":"themes/material/source/img/tec/cordova.png","path":"img/tec/cordova.png","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/angular.svg","path":"img/tec/angular.svg","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/ionic.png","path":"img/tec/ionic.png","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/js.png","path":"img/tec/js.png","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/css3.png","path":"img/tec/css3.png","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/html5.png","path":"img/tec/html5.png","modified":1,"renderable":1},{"_id":"themes/material/source/img/tec/vue.png","path":"img/tec/vue.png","modified":1,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"5c9fd13f982803912263f40fc84a3f3fa16020c8","modified":1543125957249},{"_id":"themes/material/.DS_Store","hash":"364a03643909076ca1f46766fd0fcfb9b765ddca","modified":1543132699627},{"_id":"themes/material/CONTRIBUTING.md","hash":"148f555e47d4725fe1faac775107a4d7b03f7136","modified":1487692586000},{"_id":"themes/material/CONTRIBUTING.zh-cn.md","hash":"ef3ccef0451d6ac616b3a35fbfedb6abd35e6b41","modified":1487692586000},{"_id":"themes/material/LICENSE","hash":"12d81f50767d4e09aa7877da077ad9d1b915d75b","modified":1487244609000},{"_id":"themes/material/README.md","hash":"cc7b80f6bce7b910a7ba641abac1ade1311705f8","modified":1496316325000},{"_id":"themes/material/_config.template.yml","hash":"863d199b1f39a6878dd9507170eb3d497b59d235","modified":1543134468714},{"_id":"themes/material/_config.yml","hash":"e28c70050736f7c43d0806f89ce1414a0cfba53b","modified":1543142653183},{"_id":"themes/material/contributing.json","hash":"1bc0871b1c7822b82533b614090ac0ab7c55282c","modified":1487244609000},{"_id":"themes/material/lint.sh","hash":"49c3a65f8ca65754ec7fefcd2dcb6adc187f3856","modified":1491294414000},{"_id":"themes/material/package.json","hash":"a1034f722e448cc34dc18e9bf315ec086d1a9e60","modified":1503315636000},{"_id":"source/_posts/.DS_Store","hash":"55fe1e186236d44b59e2d7cc67ae4ee637e402f7","modified":1543131829465},{"_id":"source/_posts/xxx.md","hash":"06c2d592a64688fb7f789657007c1ee32dd52b6c","modified":1543128132840},{"_id":"source/_posts/有用的css知识收集.md","hash":"0d95f1c3fe76e940af3f24eee20b870847f77fe0","modified":1543141445291},{"_id":"themes/material/languages/ar.yml","hash":"b8ffe10584fe49ed0218e57b27140b134e3022f8","modified":1493443791000},{"_id":"themes/material/languages/de.yml","hash":"bce37d066ffa82f3e249d41d0ee883c913cc2c5f","modified":1493443791000},{"_id":"themes/material/languages/en.yml","hash":"2d538f5b71b2837b75bdcb686f1431a48dcb6eda","modified":1496316325000},{"_id":"themes/material/languages/fr.yml","hash":"66a966e8a9a60bfe00829b20c1f5e26cd6390f73","modified":1493443791000},{"_id":"themes/material/languages/es.yml","hash":"aaf23ea448489ec01f7c6228e3bf4833e062ec34","modified":1493443791000},{"_id":"themes/material/languages/ja.yml","hash":"af5466576ce9f6cac8529feb57ac8ba5401a318f","modified":1493443791000},{"_id":"themes/material/languages/ms.yml","hash":"237a39bbfcce33e7b918f6c5dc0f01bc79900262","modified":1493443791000},{"_id":"themes/material/languages/pt-BR.yml","hash":"a070c2c4d0d3d54f8ca70513cff73c3f7c306db1","modified":1493443791000},{"_id":"themes/material/languages/zh-CN.yml","hash":"563671897a5d4d04ddc2f4b8a45e8f2c366a77b9","modified":1493443791000},{"_id":"themes/material/languages/zh-TW.yml","hash":"516b74e942f849e716098d111c7c3a9f4847cb0a","modified":1493443791000},{"_id":"themes/material/layout/index.ejs","hash":"aca1abb741f891776913c8ea2e6ff626a0ea5736","modified":1491715225000},{"_id":"themes/material/layout/layout.ejs","hash":"94f66850b815a262c0f8ff112a32a0a6f43066e3","modified":1493443791000},{"_id":"themes/material/layout/post.ejs","hash":"17bf2e8e65b2d1bdfc85857a25755add8a875b16","modified":1493443791000},{"_id":"themes/material/scripts/helper.js","hash":"e7111a8b1f0ab5bf3466378c48c260a4f6e527d6","modified":1493443791000},{"_id":"themes/material/source/.DS_Store","hash":"bc60d32f0d1480c57f6ae60a5ef7039edee9f8b2","modified":1503318711000},{"_id":"themes/material/layout/_partial/Isolation-post-info.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1487244609000},{"_id":"themes/material/scripts/lib/font_lsload.js","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1493443791000},{"_id":"themes/material/layout/_partial/Isolation-post_entry.ejs","hash":"45eb5dc723d36e32553038422061cba6828957a1","modified":1491294414000},{"_id":"themes/material/layout/_partial/Paradox-post-info.ejs","hash":"9c6e728a736eaba7edbcaf6862e5dcef8edd2a9e","modified":1496316325000},{"_id":"themes/material/layout/_partial/Paradox-post-thumbnail.ejs","hash":"e847e2c2b6787c4ed93cf95154ea5f4ff2ecd520","modified":1543140744662},{"_id":"themes/material/layout/_partial/Paradox-post_entry-thumbnail.ejs","hash":"ae949e16cbd20d895ba3c0b64f3992bf28d81e06","modified":1493443791000},{"_id":"themes/material/layout/_partial/Paradox-post_entry.ejs","hash":"36d3798224bf7dff7c0659876c5ad8a4785198e2","modified":1491715225000},{"_id":"themes/material/layout/_partial/Paradox-search.ejs","hash":"2038b60d67666b56699444458e34843a1289fab5","modified":1543137293764},{"_id":"themes/material/layout/_partial/blog_info.ejs","hash":"f26b6e66acdfff4a79c37cdbae3914d964a8efd3","modified":1543147959875},{"_id":"themes/material/layout/_partial/comment.ejs","hash":"c9fb1f98a18ca484cb52d60e2ad2bad25b56dfb2","modified":1493484084000},{"_id":"themes/material/layout/_partial/config_css.ejs","hash":"9956cc20b84b67334dcc80a5d4396f9064d4a804","modified":1493562357000},{"_id":"themes/material/layout/_partial/config_font.ejs","hash":"f564ba4b36363882154870558091383887fffdf8","modified":1493562357000},{"_id":"themes/material/layout/_partial/config_footer.ejs","hash":"bd520f4e8a381494c78e3c00905c80a9cd807f97","modified":1496316325000},{"_id":"themes/material/layout/_partial/daily_pic.ejs","hash":"22f377c0ba70d930a66dfcc775f216a560746996","modified":1492709339000},{"_id":"themes/material/layout/_partial/footer-left.ejs","hash":"c17e2da7d6cb0e4104fc64a541f4c81f4abed095","modified":1493443791000},{"_id":"themes/material/layout/_partial/footer-option.ejs","hash":"be20394eaeaf2d20db28946b948962c839da6ea9","modified":1493484084000},{"_id":"themes/material/layout/_partial/footer.ejs","hash":"75ecc32a258857424c48a2ebb0b5b9f3b30614a5","modified":1493443791000},{"_id":"themes/material/layout/_partial/footer_top.ejs","hash":"9eaace4feb951c96c0033e7271497f3f300d2476","modified":1493443791000},{"_id":"themes/material/layout/_partial/head.ejs","hash":"16a4bc65e631f5d21e7fd204f457adc86ea2af26","modified":1496316325000},{"_id":"themes/material/layout/_partial/import_js.ejs","hash":"88c604ae4f70ccf24289bc967f18ada697013304","modified":1496316325000},{"_id":"themes/material/layout/_partial/isolate-sns_list.ejs","hash":"fc5f03ebb847f85975676a9dfee8870e7c908008","modified":1487244609000},{"_id":"themes/material/layout/_partial/isolate_info.ejs","hash":"b8ec76716bfa2e6513b4df6814fe8676536a94c1","modified":1493443791000},{"_id":"themes/material/layout/_partial/post-content.ejs","hash":"02374b20989c81031e29257d872624d5195ddcbd","modified":1491294414000},{"_id":"themes/material/layout/_partial/post-header.ejs","hash":"e5c1271b94d66597812cdf88057c8690bfe72d55","modified":1491294414000},{"_id":"themes/material/layout/_partial/post-info-share.ejs","hash":"b6e5af993245a2e3caa6eb66009503ec52c82f5b","modified":1496316325000},{"_id":"themes/material/layout/_partial/post-nav.ejs","hash":"7b291719414408a9ec0b9167a2c6c834f90905b3","modified":1487244609000},{"_id":"themes/material/layout/_partial/sidebar-footer.ejs","hash":"6c3486b846473e0d58666f7a8720f5bf4a14e030","modified":1491294414000},{"_id":"themes/material/layout/_partial/sidebar-footer_image.ejs","hash":"44aba38692abc609f28b55bff81362a1c03ce36c","modified":1496316325000},{"_id":"themes/material/layout/_partial/sidebar-header.ejs","hash":"d18344f05712f66e0385839e4d83d5a3a515c140","modified":1491294414000},{"_id":"themes/material/layout/_partial/sidebar-navigation.ejs","hash":"ff44901fdfdd952174b0d22e86df7163d7fba9ba","modified":1493443901000},{"_id":"themes/material/layout/_partial/sidebar.ejs","hash":"c5ce6136e82895cb80dab8a918a7cdf2fe820fea","modified":1491294414000},{"_id":"themes/material/layout/_partial/structured-data.ejs","hash":"f3ed6673a774cd5a27c94dfe174e8f7344f4ebbe","modified":1496316325000},{"_id":"themes/material/layout/_partial/toc_button.ejs","hash":"1c0773c3b2cf33aad0e0373540e11540e5137c75","modified":1496316325000},{"_id":"themes/material/layout/_widget/leancloud-like.ejs","hash":"e4780fe3bbb049db38d694fc18dee13d799bd51d","modified":1493443791000},{"_id":"themes/material/layout/_widget/leancloud-views.ejs","hash":"211dc183b8e84f71b2c25b3ac6659d162d81662b","modified":1493443791000},{"_id":"themes/material/layout/_widget/leancloud-views_num.ejs","hash":"e27baba6a2de406463735d276606b15fb40f5eba","modified":1487244609000},{"_id":"themes/material/layout/_widget/mathjax.ejs","hash":"843818bffeaebe5e3fa07c90d260bb912555cb3b","modified":1493443791000},{"_id":"themes/material/layout/_widget/nprogress.ejs","hash":"52fcfe5b70c25378e48bb67daf85d952b32d34b2","modified":1493541521000},{"_id":"themes/material/layout/_widget/page-gallery.ejs","hash":"f03bc95a0c9b4905413b8fdfefc1af463b51e828","modified":1493443791000},{"_id":"themes/material/layout/_widget/page-links.ejs","hash":"ed636c70c24a9265f386102d8735dead797d94c2","modified":1493443791000},{"_id":"themes/material/layout/_widget/page-tagcloud.ejs","hash":"e71de74e4067cc4e6aef1e09ac429c92bcd178b3","modified":1493443791000},{"_id":"themes/material/layout/_widget/page-timeline.ejs","hash":"9fa0195e08d9fd40aa0333e9279c98bc65acf604","modified":1493443791000},{"_id":"themes/material/layout/_widget/qrcode.ejs","hash":"ab544bc337a48bdd30f9cb146db6a287bb36a10f","modified":1496316325000},{"_id":"themes/material/layout/_widget/search-local-js.ejs","hash":"146bfb6952f17c0afbd26ac16a15c4d0d73c83d9","modified":1493443791000},{"_id":"themes/material/layout/_widget/search-swiftype-js.ejs","hash":"7ad1e843e620ccd9b3c041dccfdcee97921247a1","modified":1493443791000},{"_id":"themes/material/scripts/lib/css_lsload.js","hash":"c52bbfe62863cd141925747b2575a6a6858444d1","modified":1493541521000},{"_id":"themes/material/scripts/lib/get_file_hex.js","hash":"eb3b9a45f8ca45ef40d5421baef7d4484023982c","modified":1493443791000},{"_id":"themes/material/scripts/lib/js_hex.js","hash":"2704583aa036d538544ce31c2e924c0c125309dd","modified":1493443791000},{"_id":"themes/material/scripts/lib/js_lsload.js","hash":"c604f337d219bccf3f315e984cf12a6658dbd7a2","modified":1493541521000},{"_id":"themes/material/scripts/lib/path_for.js","hash":"f944e3b53a468962121aa3357cc0bc18ac27a34c","modified":1493443791000},{"_id":"themes/material/source/css/disqus-proxy.css","hash":"770776d8cec27cd5661bdfd59eff9af263439989","modified":1493443791000},{"_id":"themes/material/source/css/disqus-proxy.min.css","hash":"3f8f99f71d361302288b0ba11fd36072564b08c2","modified":1493443791000},{"_id":"themes/material/source/css/duoshuo.css","hash":"32a02eaa01ff7b66fd9df307b0d33d52810096be","modified":1487244609000},{"_id":"themes/material/source/css/duoshuo.min.css","hash":"89a30544b8b01d061da51c40f2af702a7969de5e","modified":1487244609000},{"_id":"themes/material/source/css/fontawesome.min.css","hash":"512c7d79033e3028a9be61b540cf1a6870c896f8","modified":1496316325000},{"_id":"themes/material/source/css/gallery.min.css","hash":"c5333ca835aae49239d809130a7b281af745729e","modified":1487244609000},{"_id":"themes/material/source/css/ie-blocker.css","hash":"dddce7e6250a449291888ae7865697282a213b14","modified":1491294414000},{"_id":"themes/material/source/css/uc.css","hash":"1e0977a2c9bdf721cc05654dfc025dd250655852","modified":1493443791000},{"_id":"themes/material/source/css/style.css","hash":"52a827e62695ed758b5e5102e63f78a532c0311c","modified":1496316325000},{"_id":"themes/material/source/css/style.min.css","hash":"2e9f8420f0047e7639df4be5619bf279b4ecb94f","modified":1496316325000},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.woff","hash":"c6c953c2ccb2ca9abb21db8dbf473b5a435f0082","modified":1487244609000},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.woff2","hash":"09963592e8c953cc7e14e3fb0a5b05d5042e8435","modified":1487244609000},{"_id":"themes/material/source/img/.DS_Store","hash":"9728023f1d2a1f9b820d39f76d26557fd33ccc01","modified":1543145834877},{"_id":"themes/material/source/img/avatar.png","hash":"bf483b0d495dbbcfb308348a945818e1c1cc9696","modified":1487244609000},{"_id":"themes/material/source/img/browserstack_logo.png","hash":"a6c43887f64a7f48a2814e3714eaa1215e542037","modified":1491715210000},{"_id":"themes/material/source/img/bg.png","hash":"a32f9717e19e821a4030ade551dc2917c889fcd8","modified":1487244609000},{"_id":"themes/material/source/img/favicon.png","hash":"b1bcc84cedb2a618e8db93559ce7d58f9274085d","modified":1487244609000},{"_id":"themes/material/source/img/logo.png","hash":"b1bcc84cedb2a618e8db93559ce7d58f9274085d","modified":1487244609000},{"_id":"themes/material/source/img/sidebar_header.png","hash":"c47f4d39f421c0a950279d050ae82f9ae6dd19ff","modified":1491294414000},{"_id":"themes/material/source/img/upyun_logo.svg","hash":"1f118b2b9c54f431d5e731ccf316ceefe605ba67","modified":1490883710000},{"_id":"themes/material/source/js/ie-blocker.en.js","hash":"96ca8e677a12048d099319ebdf01983ddc6ca80c","modified":1491294414000},{"_id":"themes/material/source/js/ie-blocker.zhCN.js","hash":"0ed49b0ec1d1924b128fbd97fca2cf7af7856fdf","modified":1491294414000},{"_id":"themes/material/source/js/lazyload.min.js","hash":"5348fd7aa4dbefac9d21091c9fd5e263563b5540","modified":1487692586000},{"_id":"themes/material/source/js/lsloader.js","hash":"890f196c276aded83e40a60c516e4408d42a3c7d","modified":1493541521000},{"_id":"themes/material/source/js/lsloader.min.js","hash":"089ffda1dbc3ec5e5168331121ce6daaa241c132","modified":1493541521000},{"_id":"themes/material/source/js/mathjax.js","hash":"a21703b5848325a902c9b39bbf3ca6490d3e1b1b","modified":1491715225000},{"_id":"themes/material/source/js/nprogress.js","hash":"a3058d4b6afb5d7a14e5afcbb88f778de35864f0","modified":1487692586000},{"_id":"themes/material/source/js/queue.js","hash":"dd252616b568b71c222d9cfc859bfe52738e576a","modified":1491715225000},{"_id":"themes/material/source/js/queue.min.js","hash":"21aab782ca33efbb1386cc960b6be0a02106760d","modified":1493443791000},{"_id":"themes/material/source/js/smoothscroll.js","hash":"df56a1c84191a62750ae820943377b6775fca0e2","modified":1491294414000},{"_id":"themes/material/source/css/material.min.css","hash":"f3c8e6a9d94e6cad30c6628e1d732e6ee00d5fce","modified":1491294414000},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.ttf","hash":"fc05de31234e0090f7ddc28ce1b23af4026cb1da","modified":1487244609000},{"_id":"themes/material/source/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1496316325000},{"_id":"themes/material/source/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1496316325000},{"_id":"themes/material/source/img/daily_pic.png","hash":"5e9a5f6a134889d0242e69061837f2032416d7ce","modified":1487244609000},{"_id":"themes/material/source/img/user.jpeg","hash":"12e07998217d4f71924b82606bbed8b5c6b5b043","modified":1503318614000},{"_id":"themes/material/source/js/jquery.min.js","hash":"00073d6597d2760b81387274a9ec56b9d5cb1552","modified":1491294414000},{"_id":"themes/material/source/js/js.js","hash":"c6be581aa8f7efea5392a7140bb081687b1d6884","modified":1543138041661},{"_id":"themes/material/source/js/js.min.js","hash":"2d0e6569a2bb608bfd37f395945ac449d3924d84","modified":1493443791000},{"_id":"themes/material/layout/_widget/analytics/baidu-analytics.ejs","hash":"c24af97754140f221d20323a3e5aac9dd02889d4","modified":1493484084000},{"_id":"themes/material/layout/_widget/analytics/cnzz-analytics.ejs","hash":"61a891acb13e71289f360c91cb27fb88f81848ec","modified":1493484084000},{"_id":"themes/material/layout/_widget/analytics/google-analytics.ejs","hash":"8bff3b1bd066eef693319b82400c353b2d6736e7","modified":1493484084000},{"_id":"themes/material/source/css/material.css","hash":"19818d637ecb3bae73d16ee90444c42fe4458b54","modified":1487692586000},{"_id":"themes/material/source/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1496316325000},{"_id":"themes/material/source/fonts/MaterialIcons-Regular.eot","hash":"26fb8cecb5512223277b4d290a24492a0f09ede1","modified":1487244609000},{"_id":"themes/material/source/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1496316325000},{"_id":"themes/material/source/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1496316325000},{"_id":"themes/material/source/img/footer/footer_ico-bilibili.svg","hash":"1a007ae30d69aa597f589edb4ee0638a9814c988","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-facebook.svg","hash":"74b3b3c6bd1d76b7eaaf75d36ac929b11a5a3e82","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-github.svg","hash":"5f1f9f53e6a87ad674108c6bd16e424a1e888c61","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-gplus.svg","hash":"b50274133ab263bcacdf729871d0446b615ac984","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-instagram.svg","hash":"294c511e62063ea49f61e23958ab27d643ba0228","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-linkedin.svg","hash":"9831c86352ec5ff283a3277d033120f86388c277","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-telegram.svg","hash":"413d66e40ca476deeb49364935d49d2f7839cdfd","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-tumblr.svg","hash":"11daf4fa4220787306fc21a879429e98b7db8d03","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-twitter.svg","hash":"58df7777d6fcee8fa3c42453c091714bb3f97c95","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-weibo.svg","hash":"26d0cdb77f0c4afd60111176167eacfa222bc4c1","modified":1491294414000},{"_id":"themes/material/source/img/footer/footer_ico-zhihu.svg","hash":"d3f8da320fffefc5144822665dfe17d25af4061c","modified":1491294414000},{"_id":"themes/material/source/img/gallery/arrow.svg","hash":"144d73877e52acc5068bc0c9d1e69ef450e69f26","modified":1487244609000},{"_id":"themes/material/source/img/gallery/close.svg","hash":"2690088060811f01c9360df75be80070156ff176","modified":1487244609000},{"_id":"themes/material/source/img/gallery/spinner.svg","hash":"fc9d1cd1118ac896d4f5326e110a653f3ea32b11","modified":1487244609000},{"_id":"themes/material/source/img/random/material-10.png","hash":"363466a376e4df9e61acc904cd25f3c7ae1a7280","modified":1491294414000},{"_id":"themes/material/source/img/random/material-12.png","hash":"d020b3d42542715c7ae95b3d8603fe3180bfe8f3","modified":1491294414000},{"_id":"themes/material/source/img/random/material-17.png","hash":"ece82810e31f711576db598c845c3d97bd49fe67","modified":1491294414000},{"_id":"themes/material/source/img/random/material-19.png","hash":"768ed1a4966e2e418cb00f6b36d2fc9058328eb3","modified":1491294414000},{"_id":"themes/material/source/img/random/material-3.png","hash":"848eaa70b9b0cd7a2204c78e8aa324d8f96bb097","modified":1491294414000},{"_id":"themes/material/source/img/random/material-4.png","hash":"b475dfbf67a076a4e17a5527fd1973b1d4adac07","modified":1491294414000},{"_id":"themes/material/source/img/random/material-6.png","hash":"2f841e0c064fecb607ad1e149662a0c96d9e725d","modified":1491294414000},{"_id":"themes/material/source/img/random/material-9.png","hash":"840319c4d1f38fb8df79eb4669ed2e14d89fd680","modified":1491294414000},{"_id":"themes/material/source/img/random/material-8.png","hash":"57db542d526ef6866cb34e261096e93a0e6f3a82","modified":1491294414000},{"_id":"themes/material/source/js/gallery/gallery.js","hash":"8ee48312a183b42a9886211a0ec825ea0d041301","modified":1491294414000},{"_id":"themes/material/source/img/random/material-1.png","hash":"4839299eaa4db7272befa7b824e54b647fbbfc44","modified":1491294414000},{"_id":"themes/material/source/img/random/material-11.png","hash":"ce20b0ad08a248c036115374f2edb7301ff60b72","modified":1491294414000},{"_id":"themes/material/source/img/random/material-13.png","hash":"1a8378db3121b583485e2b939cb1aa0e0b14b0c8","modified":1487244609000},{"_id":"themes/material/source/img/random/material-14.png","hash":"b4f65b601960138c69f57171b0ddd55895483f45","modified":1491294414000},{"_id":"themes/material/source/img/random/material-15.png","hash":"36b9937cf3810e4970902b78797ad29b0831f065","modified":1487244609000},{"_id":"themes/material/source/img/random/material-16.png","hash":"ade7f75200d3fb38326e3cf1e9f1a812fb12a43b","modified":1487244609000},{"_id":"themes/material/source/img/random/material-18.png","hash":"4b98204abe36ecd3f30678d2c22059130e0db328","modified":1491294414000},{"_id":"themes/material/source/img/random/material-2.png","hash":"faba2ce69c19d6c1dac392dd10b054e0061f6fb7","modified":1491294414000},{"_id":"themes/material/source/img/random/material-5.png","hash":"5041ebd073a139c67f8ed271e74c967c7eb9c5be","modified":1491294414000},{"_id":"themes/material/source/img/random/material-7.png","hash":"5c49ff3c064aaeb21227c2bd98b5ae422ddca84c","modified":1491294414000},{"_id":"themes/material/layout/_widget/comment/163gentie/common.ejs","hash":"ac56d01746ef2f72d54bff4b61e0ca0089c5c164","modified":1496316325000},{"_id":"themes/material/layout/_widget/comment/163gentie/enter.ejs","hash":"6e057829fa926cc02e3e2ebfdee7c244a9b31dd7","modified":1496316325000},{"_id":"themes/material/layout/_widget/comment/163gentie/main.ejs","hash":"e84afb44929f4dab8cf279b958d472955bc5f034","modified":1496316325000},{"_id":"themes/material/layout/_widget/comment/changyan/common.ejs","hash":"40e1fc76d6b7f64e226693fb2fe1a6bb17bae245","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/changyan/enter.ejs","hash":"e3cfb4f37ea35457f112f3e822e130c930086497","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/changyan/main.ejs","hash":"77539ff32cc9d1204b848e01b5277fff5cbd61e0","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/disqus/common.ejs","hash":"c11cfceb0906a96399dede5da01ff7fe4787f8a5","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/disqus/enter.ejs","hash":"39192034766349e47967da63184f9104fdded2ab","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/disqus/main.ejs","hash":"21e0eeff664191b818d7a0071ae7edcdfc270442","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/disqus_click/common.ejs","hash":"d243f576b366a62191066459efcc6fd0ab79d00a","modified":1496316325000},{"_id":"themes/material/layout/_widget/comment/disqus_click/enter.ejs","hash":"d82f0296f8bae25223ec44e6e05b817d3a234884","modified":1493484084000},{"_id":"themes/material/layout/_widget/comment/disqus_click/main.ejs","hash":"fa89d225dafa4a6b0f6be6fe395ada0be172c4ae","modified":1493484084000},{"_id":"themes/material/source/fonts/fontawesome-webfont.svg","hash":"98a8aa5cf7d62c2eff5f07ede8d844b874ef06ed","modified":1496316325000},{"_id":"themes/material/source/fonts/Roboto-Black.ttf","hash":"0244e6497a51fb8a38ca7e6fe297b066e2e09af5","modified":1487244609000},{"_id":"themes/material/source/fonts/Roboto-Bold.ttf","hash":"d1864343b543978bd491d40c80010cea50c1b7bf","modified":1487244609000},{"_id":"themes/material/source/fonts/Roboto-Light.ttf","hash":"b9ea2eaf26ff8fdcb5aee3e0c2c7a6084ebb6aac","modified":1487244609000},{"_id":"themes/material/source/fonts/Roboto-Medium.ttf","hash":"3965419aab480c184f66bc5e39c1719a373a4ef6","modified":1487244609000},{"_id":"themes/material/source/fonts/Roboto-Regular.ttf","hash":"06691e103d4d3ce1f1108d9b7d21254b714a41f8","modified":1487244609000},{"_id":"themes/material/source/fonts/Roboto-Thin.ttf","hash":"ed5101c3a800f35e925603a406e0c2dc5278b96c","modified":1487244609000},{"_id":"source/_posts/11111.md","hash":"73382beb81d6491b5500e2be2b87c4b029f747db","modified":1543128393616},{"_id":"source/_posts/angular4学习笔记整理（一）.md","hash":"b77c2de3deca7be29fcb397b1f61dc0e582cd6bb","modified":1543141529771},{"_id":"source/_posts/angular4学习笔记整理（三）angular4的服务.md","hash":"9c63bfd1f0954fed48e334bd64efba4bb5118bc7","modified":1543140964813},{"_id":"source/_posts/angular4学习笔记整理（二）angular4的路由使用.md","hash":"d7a524acc467bbe44b38d659f82f4f79cdce5bf5","modified":1543141306687},{"_id":"source/_posts/angular4学习笔记整理（四）组件间通讯、管道.md","hash":"1502b29726921db82dda6af1f21c7043387aab9b","modified":1543141606915},{"_id":"source/_posts/ionic3-热更新android篇.md","hash":"022b2fcf3b7f2ac4fc41a828bd26195a85ba2822","modified":1543141574986},{"_id":"source/_posts/ionic-webview-in-native-android.md","hash":"8e1d4a5005dad010eee6cbaf8e5385740fd22e07","modified":1543141628081},{"_id":"source/_posts/ionic篇学习笔记-部署项目编.md","hash":"6ad4ecfef4f0d6cf32be5c5857f0c9820baeafc7","modified":1543141550715},{"_id":"source/_posts/xxxx-1.md","hash":"1e05c1ad15c90e19b1795effc8f955b79ac35edb","modified":1543134935520},{"_id":"source/_posts/xxxx-10.md","hash":"2acf423347ed431f0126cb590ab8a562c6058d0e","modified":1543134948517},{"_id":"source/_posts/xxxx-11.md","hash":"67720f996f44371490f4e5e9fa87434bedf68351","modified":1543134949825},{"_id":"source/_posts/xxxx-12.md","hash":"c6a1977ecd64a51fa2ba26824a4518bdd61d43b4","modified":1543134951200},{"_id":"source/_posts/xxxx-13.md","hash":"5a54436867a7820380b03f7f993838bfdbfd0039","modified":1543134952476},{"_id":"source/_posts/xxxx-2.md","hash":"b3e41facbef3225ec6cc0dedfbca265457ecd379","modified":1543134936978},{"_id":"source/_posts/xxxx-3.md","hash":"ca21e85901850b2d6ca3b8ddead379a044630c95","modified":1543134938479},{"_id":"source/_posts/xxxx-4.md","hash":"2f21f5e7bf943ef09466bc1b85a5ecf7db0f18ee","modified":1543134939923},{"_id":"source/_posts/xxxx-5.md","hash":"dcff3e1e17ab1f9f413a3a495b00b709568f49d1","modified":1543134941351},{"_id":"source/_posts/xxxx-6.md","hash":"637cd6a8b363175a822a9c0b8bb25852ae8eddb7","modified":1543134942772},{"_id":"source/_posts/xxxx-7.md","hash":"0c96097f2a0cf94a9d5895b3dbce330b6a5eef56","modified":1543134944200},{"_id":"source/_posts/xxxx-8.md","hash":"dd91d1d024bd8aa72d36baa3ff46951c9d5acad8","modified":1543134945726},{"_id":"source/_posts/xxxx-9.md","hash":"896b8e7d9c3450af42d2c651990789c221c88168","modified":1543134947117},{"_id":"source/_posts/xxxx.md","hash":"bae4ee357456d11b8f794abd6fb5265127ebe83c","modified":1543134932423},{"_id":"themes/material/source/img/tec/.DS_Store","hash":"07474af708a38df9a26d5d268c6c26ad305c9f48","modified":1543147687845},{"_id":"themes/material/source/img/tec/cordova.png","hash":"7e8122a6765451ceffa5542a5ce5be3e864c040f","modified":1543147613411},{"_id":"themes/material/source/img/tec/angular.svg","hash":"0b3394341548880427c38ed78beb990863a4e8cb","modified":1543145923005},{"_id":"themes/material/source/img/tec/ionic.png","hash":"1c89bcf1964060679bada33b822d727549c9bdd9","modified":1543147678271},{"_id":"themes/material/source/img/tec/js.png","hash":"c724282fc9cf3b67472eb2f5f99895b58cd3702a","modified":1543147512412},{"_id":"themes/material/source/img/tec/css3.png","hash":"bd3bfbfc2bd3029ec5a991c060141829c375ae72","modified":1543147115626},{"_id":"themes/material/source/img/tec/html5.png","hash":"3e5750b5663132e33bb039a501993fcaddcf5f3f","modified":1543147088097},{"_id":"themes/material/source/img/tec/vue.png","hash":"555257b8c5e7ecf34ce4f9b952eeaf006adfa339","modified":1543145758032}],"Category":[{"name":"angular","_id":"cjowpy94r0000q9aatryens0r"},{"name":"ionic","_id":"cjowpzr0w0003szaaewu02nwc"},{"name":"css","_id":"cjowq06au0007szaalbi3zrpq"}],"Data":[],"Page":[],"Post":[{"title":"有用的css知识收集","date":"2017-12-07T06:42:12.000Z","_content":"\n**currentColor**\n表示“当前的标签所继承的文字颜色”。\n\n**实战1：背景色镂空技术**去年介绍过“[CSS背景色镂空技术](http://www.zhangxinxu.com/wordpress/?p=3545)”，可以方便控制图标的颜色，很赞的想法。此文章对应demo可以[轻戳这里](http://www.zhangxinxu.com/study/201307/background-color-insert-background-image.html)访问。\n这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。如果不考虑兼容性问题，我们可以稍稍改造下，使其实现更加简单：\n```sh\n.icon { \ndisplay: inline-block; width: 16px;\nheight: 20px; \nbackground-image: url(../201307/sprite_icons.png); \nbackground-color: currentColor; /* 该颜色控制图标的颜色 */\n}\n```\n于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了.\n```sh\n.link:hover { color: #333; }/* 虽然改变的是文字颜色，但是图标颜色也一起变化了 */\n```\nHTML结构如下：\n``<a href=\"##\" class=\"link\"><i class=\"icon icon1\"></i>返回</a>``\n于是鼠标hover就是``#333``\n因为``currentColor``继承文本颜色这个属性,``color``的改变会随之改变``background-color``\n\n## meta\n---\n` <meta http-equiv=\"x-ua-comatible\" content=\"ie=edge\">`\n1.  它代表ie文档的兼容性，告诉文档在**ie**下的兼容模式，\n2.  它是为了兼容一些在ie8下显示不正常，但在老版本浏览器下显示正常的模式\n3.  通过content  可以告诉 ie浏览器 你可以模拟 ie7的形式或者ie8或者ie9、ie11的形式显示网页\n4.  比如`content=\"IE=EmulateIE8\"`以ie8的模式渲染页面\n5.  ie=edge是为了强制ie浏览器以最新的模式渲染页面，能多新，有多新，**（但如果浏览器最高ie8，那也只能用ie8的模式渲染）**。\n\n## 移动端meta必备\n`<meta name=\"view-port\" content=\"width=device-width,initial-scale=1\">`\n\n## 对于ie低版本兼容\n- css里 \\0  大家都懂\n- html里\n```sh\n<!--[if lte IE8]>\n<p>如果浏览器小于等于ie8，那么我提示你该升级了</p>\n<![endif]-->\n```\n- 格式不多说  gt 大于、lt小于、gte大于等于、lte小于等于\n\n\n## px em rem\n1. px像素\n2. em 相对父元素 ，如果没设会一直往上找，很强大但会导致混乱\n3. rem 相对html，但rem ie678不支持\n\n```sh\nhtml {\nfont-size: 62.5%;\ncolor: #222;\n}\n```\n如此一个rem会是10px \n\n## 取消选中\ncss3属性  顺序不能乱，不然谷歌没有，火狐有\n```sh\n::-moz-selection{\nbackground-color: #b3d4fc;\ntext-shadow: none;\n}\n::selection{\nbackground-color: #b3d4fc;\ntext-shadow: none;\n}\n```\n## 隐藏文字\n```sh\n.text-hide{\nfont:0/0 a;\ncolor: transparent;\ntext-shadow: none;\nbackground-color: transparent;\nborder: 0;\n}\n```\n注意其中的text-hide 是为了隐藏文字，方便seo识别图片\n\n## 清除浮动\n```sh\n.clearfix:after,.clearfix:before{\ncontent:' ';\ndisplay: table;\n}\n.clearfix:after{\nclear:both;\n}\n```\n这种方法可以防止margin的叠加\n\n\n\n## before 利用\n```sh\n.notice a:first-child:before{\ncontent: '最新公告：\\00a0\\00a0';\ncolor: #aaa;\n}\n```\n其中`\\00a0\\00a0`是不换行的空白字符,因为content没法用`&nbsp`添加空格\n\n## 文字不换行,多出省略\n```sh\n.notice a:first-child{\ntext-overflow: ellipsis;\noverflow: hidden;\nwhite-space: nowrap;\n}\n```\n\n## 设备信息\n用户代理字符串在控制台输入`navigator.userAgent`获得相关设备信息\n\n## 文字超出隐藏\n``` sh\n{\noverflow: hidden;\nwhite-space: nowrap;\ntext-overflow: ellipsis;\n}\n```\n## 图标随文字变色设计\n**背景色镂空技术** 利用 \n**currentColor**表示“当前的标签所继承的文字颜色”。\n这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。\n```sh\n.icon {\ndisplay: inline-block;\nwidth: 16px; height: 20px;\nbackground-image: url(../201307/sprite_icons.png);\nbackground-color: currentColor; /* 该颜色控制图标的颜色 */\n}\n```\n于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了：\n```sh\n.link:hover { \ncolor: #333; \n}\n```\n\n因为``currentColor``继承文本颜色这个属性,``color``的改变会随之改变``background-color``\n\n## margin-top溢出问题：\n给元素盒子一个垂直外边距margin-top，父元素盒子也会往下走margin-top的值。\n有以下几点解决方案\n1.修改父元素高度，增加padding-top                     好用，但间距变成margin+padding\n2.为父元素添加overflow：hidden                            特别好用，相当于子元素向下移，但范围和子元素大小要注意\n3.为父元素或者子元素申明浮动（float：left）            可以用，但会改变父子的定位，会浮起来\n4.为父元素添加border                                            好用，但会改变边框\n\n## 毛玻璃特效\ncss代码\n```sh\n.blur {    \n-webkit-filter: blur(20px); /* Chrome, Opera */\n-moz-filter: blur(20px);\n-ms-filter: blur(20px);    \nfilter: blur(20px);    \n}\n/**--图片上的div--**/\n.top-bg{\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\nz-index: -1;\noverflow: hidden;\n}\n.top-bg img{\ntransform: scale(4.0);\n}\n```\nhtml代码\n```sh\n<div>  <!--父层-->\n<div class=\"top-bg blur\"> <!--背景层-->\n![](./img/37403260_p0.png)  <!-- 图片层-->\n</div>\n</div>\n```\n","source":"_posts/有用的css知识收集.md","raw":"---\ntitle: 有用的css知识收集\ndate: 2017-12-07 14:42:12\ncategories:\n- css\n---\n\n**currentColor**\n表示“当前的标签所继承的文字颜色”。\n\n**实战1：背景色镂空技术**去年介绍过“[CSS背景色镂空技术](http://www.zhangxinxu.com/wordpress/?p=3545)”，可以方便控制图标的颜色，很赞的想法。此文章对应demo可以[轻戳这里](http://www.zhangxinxu.com/study/201307/background-color-insert-background-image.html)访问。\n这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。如果不考虑兼容性问题，我们可以稍稍改造下，使其实现更加简单：\n```sh\n.icon { \ndisplay: inline-block; width: 16px;\nheight: 20px; \nbackground-image: url(../201307/sprite_icons.png); \nbackground-color: currentColor; /* 该颜色控制图标的颜色 */\n}\n```\n于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了.\n```sh\n.link:hover { color: #333; }/* 虽然改变的是文字颜色，但是图标颜色也一起变化了 */\n```\nHTML结构如下：\n``<a href=\"##\" class=\"link\"><i class=\"icon icon1\"></i>返回</a>``\n于是鼠标hover就是``#333``\n因为``currentColor``继承文本颜色这个属性,``color``的改变会随之改变``background-color``\n\n## meta\n---\n` <meta http-equiv=\"x-ua-comatible\" content=\"ie=edge\">`\n1.  它代表ie文档的兼容性，告诉文档在**ie**下的兼容模式，\n2.  它是为了兼容一些在ie8下显示不正常，但在老版本浏览器下显示正常的模式\n3.  通过content  可以告诉 ie浏览器 你可以模拟 ie7的形式或者ie8或者ie9、ie11的形式显示网页\n4.  比如`content=\"IE=EmulateIE8\"`以ie8的模式渲染页面\n5.  ie=edge是为了强制ie浏览器以最新的模式渲染页面，能多新，有多新，**（但如果浏览器最高ie8，那也只能用ie8的模式渲染）**。\n\n## 移动端meta必备\n`<meta name=\"view-port\" content=\"width=device-width,initial-scale=1\">`\n\n## 对于ie低版本兼容\n- css里 \\0  大家都懂\n- html里\n```sh\n<!--[if lte IE8]>\n<p>如果浏览器小于等于ie8，那么我提示你该升级了</p>\n<![endif]-->\n```\n- 格式不多说  gt 大于、lt小于、gte大于等于、lte小于等于\n\n\n## px em rem\n1. px像素\n2. em 相对父元素 ，如果没设会一直往上找，很强大但会导致混乱\n3. rem 相对html，但rem ie678不支持\n\n```sh\nhtml {\nfont-size: 62.5%;\ncolor: #222;\n}\n```\n如此一个rem会是10px \n\n## 取消选中\ncss3属性  顺序不能乱，不然谷歌没有，火狐有\n```sh\n::-moz-selection{\nbackground-color: #b3d4fc;\ntext-shadow: none;\n}\n::selection{\nbackground-color: #b3d4fc;\ntext-shadow: none;\n}\n```\n## 隐藏文字\n```sh\n.text-hide{\nfont:0/0 a;\ncolor: transparent;\ntext-shadow: none;\nbackground-color: transparent;\nborder: 0;\n}\n```\n注意其中的text-hide 是为了隐藏文字，方便seo识别图片\n\n## 清除浮动\n```sh\n.clearfix:after,.clearfix:before{\ncontent:' ';\ndisplay: table;\n}\n.clearfix:after{\nclear:both;\n}\n```\n这种方法可以防止margin的叠加\n\n\n\n## before 利用\n```sh\n.notice a:first-child:before{\ncontent: '最新公告：\\00a0\\00a0';\ncolor: #aaa;\n}\n```\n其中`\\00a0\\00a0`是不换行的空白字符,因为content没法用`&nbsp`添加空格\n\n## 文字不换行,多出省略\n```sh\n.notice a:first-child{\ntext-overflow: ellipsis;\noverflow: hidden;\nwhite-space: nowrap;\n}\n```\n\n## 设备信息\n用户代理字符串在控制台输入`navigator.userAgent`获得相关设备信息\n\n## 文字超出隐藏\n``` sh\n{\noverflow: hidden;\nwhite-space: nowrap;\ntext-overflow: ellipsis;\n}\n```\n## 图标随文字变色设计\n**背景色镂空技术** 利用 \n**currentColor**表示“当前的标签所继承的文字颜色”。\n这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。\n```sh\n.icon {\ndisplay: inline-block;\nwidth: 16px; height: 20px;\nbackground-image: url(../201307/sprite_icons.png);\nbackground-color: currentColor; /* 该颜色控制图标的颜色 */\n}\n```\n于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了：\n```sh\n.link:hover { \ncolor: #333; \n}\n```\n\n因为``currentColor``继承文本颜色这个属性,``color``的改变会随之改变``background-color``\n\n## margin-top溢出问题：\n给元素盒子一个垂直外边距margin-top，父元素盒子也会往下走margin-top的值。\n有以下几点解决方案\n1.修改父元素高度，增加padding-top                     好用，但间距变成margin+padding\n2.为父元素添加overflow：hidden                            特别好用，相当于子元素向下移，但范围和子元素大小要注意\n3.为父元素或者子元素申明浮动（float：left）            可以用，但会改变父子的定位，会浮起来\n4.为父元素添加border                                            好用，但会改变边框\n\n## 毛玻璃特效\ncss代码\n```sh\n.blur {    \n-webkit-filter: blur(20px); /* Chrome, Opera */\n-moz-filter: blur(20px);\n-ms-filter: blur(20px);    \nfilter: blur(20px);    \n}\n/**--图片上的div--**/\n.top-bg{\nposition: absolute;\ntop: 0;\nleft: 0;\nwidth: 100%;\nheight: 100%;\nz-index: -1;\noverflow: hidden;\n}\n.top-bg img{\ntransform: scale(4.0);\n}\n```\nhtml代码\n```sh\n<div>  <!--父层-->\n<div class=\"top-bg blur\"> <!--背景层-->\n![](./img/37403260_p0.png)  <!-- 图片层-->\n</div>\n</div>\n```\n","slug":"有用的css知识收集","published":1,"updated":"2018-11-25T10:24:05.291Z","_id":"cjowitk910000a2aaublupczi","comments":1,"layout":"post","photos":[],"link":"","content":"<p><strong>currentColor</strong><br>表示“当前的标签所继承的文字颜色”。</p>\n<p><strong>实战1：背景色镂空技术</strong>去年介绍过“<a href=\"http://www.zhangxinxu.com/wordpress/?p=3545\" target=\"_blank\" rel=\"noopener\">CSS背景色镂空技术</a>”，可以方便控制图标的颜色，很赞的想法。此文章对应demo可以<a href=\"http://www.zhangxinxu.com/study/201307/background-color-insert-background-image.html\" target=\"_blank\" rel=\"noopener\">轻戳这里</a>访问。<br>这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。如果不考虑兼容性问题，我们可以稍稍改造下，使其实现更加简单：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.icon &#123; </span><br><span class=\"line\">display: inline-block; width: 16px;</span><br><span class=\"line\">height: 20px; </span><br><span class=\"line\">background-image: url(../201307/sprite_icons.png); </span><br><span class=\"line\">background-color: currentColor; /* 该颜色控制图标的颜色 */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了.<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.link:hover &#123; color: <span class=\"comment\">#333; &#125;/* 虽然改变的是文字颜色，但是图标颜色也一起变化了 */</span></span><br></pre></td></tr></table></figure></p>\n<p>HTML结构如下：<br><code>&lt;a href=&quot;##&quot; class=&quot;link&quot;&gt;&lt;i class=&quot;icon icon1&quot;&gt;&lt;/i&gt;返回&lt;/a&gt;</code><br>于是鼠标hover就是<code>#333</code><br>因为<code>currentColor</code>继承文本颜色这个属性,<code>color</code>的改变会随之改变<code>background-color</code></p>\n<h2 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h2><hr>\n<p><code>&lt;meta http-equiv=&quot;x-ua-comatible&quot; content=&quot;ie=edge&quot;&gt;</code></p>\n<ol>\n<li>它代表ie文档的兼容性，告诉文档在<strong>ie</strong>下的兼容模式，</li>\n<li>它是为了兼容一些在ie8下显示不正常，但在老版本浏览器下显示正常的模式</li>\n<li>通过content  可以告诉 ie浏览器 你可以模拟 ie7的形式或者ie8或者ie9、ie11的形式显示网页</li>\n<li>比如<code>content=&quot;IE=EmulateIE8&quot;</code>以ie8的模式渲染页面</li>\n<li>ie=edge是为了强制ie浏览器以最新的模式渲染页面，能多新，有多新，<strong>（但如果浏览器最高ie8，那也只能用ie8的模式渲染）</strong>。</li>\n</ol>\n<h2 id=\"移动端meta必备\"><a href=\"#移动端meta必备\" class=\"headerlink\" title=\"移动端meta必备\"></a>移动端meta必备</h2><p><code>&lt;meta name=&quot;view-port&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</code></p>\n<h2 id=\"对于ie低版本兼容\"><a href=\"#对于ie低版本兼容\" class=\"headerlink\" title=\"对于ie低版本兼容\"></a>对于ie低版本兼容</h2><ul>\n<li>css里 \\0  大家都懂</li>\n<li><p>html里</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--[<span class=\"keyword\">if</span> lte IE8]&gt;</span><br><span class=\"line\">&lt;p&gt;如果浏览器小于等于ie8，那么我提示你该升级了&lt;/p&gt;</span><br><span class=\"line\">&lt;![endif]--&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>格式不多说  gt 大于、lt小于、gte大于等于、lte小于等于</p>\n</li>\n</ul>\n<h2 id=\"px-em-rem\"><a href=\"#px-em-rem\" class=\"headerlink\" title=\"px em rem\"></a>px em rem</h2><ol>\n<li>px像素</li>\n<li>em 相对父元素 ，如果没设会一直往上找，很强大但会导致混乱</li>\n<li>rem 相对html，但rem ie678不支持</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html &#123;</span><br><span class=\"line\">font-size: 62.5%;</span><br><span class=\"line\">color: <span class=\"comment\">#222;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>如此一个rem会是10px </p>\n<h2 id=\"取消选中\"><a href=\"#取消选中\" class=\"headerlink\" title=\"取消选中\"></a>取消选中</h2><p>css3属性  顺序不能乱，不然谷歌没有，火狐有<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">::-moz-selection&#123;</span><br><span class=\"line\">background-color: <span class=\"comment\">#b3d4fc;</span></span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">::selection&#123;</span><br><span class=\"line\">background-color: <span class=\"comment\">#b3d4fc;</span></span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"隐藏文字\"><a href=\"#隐藏文字\" class=\"headerlink\" title=\"隐藏文字\"></a>隐藏文字</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.text-hide&#123;</span><br><span class=\"line\">font:0/0 a;</span><br><span class=\"line\">color: transparent;</span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">background-color: transparent;</span><br><span class=\"line\">border: 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>注意其中的text-hide 是为了隐藏文字，方便seo识别图片</p>\n<h2 id=\"清除浮动\"><a href=\"#清除浮动\" class=\"headerlink\" title=\"清除浮动\"></a>清除浮动</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.clearfix:after,.clearfix:before&#123;</span><br><span class=\"line\">content:<span class=\"string\">' '</span>;</span><br><span class=\"line\">display: table;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.clearfix:after&#123;</span><br><span class=\"line\">clear:both;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这种方法可以防止margin的叠加</p>\n<h2 id=\"before-利用\"><a href=\"#before-利用\" class=\"headerlink\" title=\"before 利用\"></a>before 利用</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.notice a:first-child:before&#123;</span><br><span class=\"line\">content: <span class=\"string\">'最新公告：\\00a0\\00a0'</span>;</span><br><span class=\"line\">color: <span class=\"comment\">#aaa;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>其中<code>\\00a0\\00a0</code>是不换行的空白字符,因为content没法用<code>&amp;nbsp</code>添加空格</p>\n<h2 id=\"文字不换行-多出省略\"><a href=\"#文字不换行-多出省略\" class=\"headerlink\" title=\"文字不换行,多出省略\"></a>文字不换行,多出省略</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.notice a:first-child&#123;</span><br><span class=\"line\">text-overflow: ellipsis;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">white-space: nowrap;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设备信息\"><a href=\"#设备信息\" class=\"headerlink\" title=\"设备信息\"></a>设备信息</h2><p>用户代理字符串在控制台输入<code>navigator.userAgent</code>获得相关设备信息</p>\n<h2 id=\"文字超出隐藏\"><a href=\"#文字超出隐藏\" class=\"headerlink\" title=\"文字超出隐藏\"></a>文字超出隐藏</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">white-space: nowrap;</span><br><span class=\"line\">text-overflow: ellipsis;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"图标随文字变色设计\"><a href=\"#图标随文字变色设计\" class=\"headerlink\" title=\"图标随文字变色设计\"></a>图标随文字变色设计</h2><p><strong>背景色镂空技术</strong> 利用<br><strong>currentColor</strong>表示“当前的标签所继承的文字颜色”。<br>这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.icon &#123;</span><br><span class=\"line\">display: inline-block;</span><br><span class=\"line\">width: 16px; height: 20px;</span><br><span class=\"line\">background-image: url(../201307/sprite_icons.png);</span><br><span class=\"line\">background-color: currentColor; /* 该颜色控制图标的颜色 */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.link:hover &#123; </span><br><span class=\"line\">color: <span class=\"comment\">#333; </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>因为<code>currentColor</code>继承文本颜色这个属性,<code>color</code>的改变会随之改变<code>background-color</code></p>\n<h2 id=\"margin-top溢出问题：\"><a href=\"#margin-top溢出问题：\" class=\"headerlink\" title=\"margin-top溢出问题：\"></a>margin-top溢出问题：</h2><p>给元素盒子一个垂直外边距margin-top，父元素盒子也会往下走margin-top的值。<br>有以下几点解决方案<br>1.修改父元素高度，增加padding-top                     好用，但间距变成margin+padding<br>2.为父元素添加overflow：hidden                            特别好用，相当于子元素向下移，但范围和子元素大小要注意<br>3.为父元素或者子元素申明浮动（float：left）            可以用，但会改变父子的定位，会浮起来<br>4.为父元素添加border                                            好用，但会改变边框</p>\n<h2 id=\"毛玻璃特效\"><a href=\"#毛玻璃特效\" class=\"headerlink\" title=\"毛玻璃特效\"></a>毛玻璃特效</h2><p>css代码<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.blur &#123;    </span><br><span class=\"line\">-webkit-filter: blur(20px); /* Chrome, Opera */</span><br><span class=\"line\">-moz-filter: blur(20px);</span><br><span class=\"line\">-ms-filter: blur(20px);    </span><br><span class=\"line\">filter: blur(20px);    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/**--图片上的div--**/</span><br><span class=\"line\">.top-bg&#123;</span><br><span class=\"line\">position: absolute;</span><br><span class=\"line\">top: 0;</span><br><span class=\"line\">left: 0;</span><br><span class=\"line\">width: 100%;</span><br><span class=\"line\">height: 100%;</span><br><span class=\"line\">z-index: -1;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.top-bg img&#123;</span><br><span class=\"line\">transform: scale(4.0);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>html代码<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;  &lt;!--父层--&gt;</span><br><span class=\"line\">&lt;div class=<span class=\"string\">\"top-bg blur\"</span>&gt; &lt;!--背景层--&gt;</span><br><span class=\"line\">![](./img/37403260_p0.png)  &lt;!-- 图片层--&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p><strong>currentColor</strong><br>表示“当前的标签所继承的文字颜色”。</p>\n<p><strong>实战1：背景色镂空技术</strong>去年介绍过“<a href=\"http://www.zhangxinxu.com/wordpress/?p=3545\" target=\"_blank\" rel=\"noopener\">CSS背景色镂空技术</a>”，可以方便控制图标的颜色，很赞的想法。此文章对应demo可以<a href=\"http://www.zhangxinxu.com/study/201307/background-color-insert-background-image.html\" target=\"_blank\" rel=\"noopener\">轻戳这里</a>访问。<br>这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。如果不考虑兼容性问题，我们可以稍稍改造下，使其实现更加简单：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.icon &#123; </span><br><span class=\"line\">display: inline-block; width: 16px;</span><br><span class=\"line\">height: 20px; </span><br><span class=\"line\">background-image: url(../201307/sprite_icons.png); </span><br><span class=\"line\">background-color: currentColor; /* 该颜色控制图标的颜色 */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了.<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.link:hover &#123; color: <span class=\"comment\">#333; &#125;/* 虽然改变的是文字颜色，但是图标颜色也一起变化了 */</span></span><br></pre></td></tr></table></figure></p>\n<p>HTML结构如下：<br><code>&lt;a href=&quot;##&quot; class=&quot;link&quot;&gt;&lt;i class=&quot;icon icon1&quot;&gt;&lt;/i&gt;返回&lt;/a&gt;</code><br>于是鼠标hover就是<code>#333</code><br>因为<code>currentColor</code>继承文本颜色这个属性,<code>color</code>的改变会随之改变<code>background-color</code></p>\n<h2 id=\"meta\"><a href=\"#meta\" class=\"headerlink\" title=\"meta\"></a>meta</h2><hr>\n<p><code>&lt;meta http-equiv=&quot;x-ua-comatible&quot; content=&quot;ie=edge&quot;&gt;</code></p>\n<ol>\n<li>它代表ie文档的兼容性，告诉文档在<strong>ie</strong>下的兼容模式，</li>\n<li>它是为了兼容一些在ie8下显示不正常，但在老版本浏览器下显示正常的模式</li>\n<li>通过content  可以告诉 ie浏览器 你可以模拟 ie7的形式或者ie8或者ie9、ie11的形式显示网页</li>\n<li>比如<code>content=&quot;IE=EmulateIE8&quot;</code>以ie8的模式渲染页面</li>\n<li>ie=edge是为了强制ie浏览器以最新的模式渲染页面，能多新，有多新，<strong>（但如果浏览器最高ie8，那也只能用ie8的模式渲染）</strong>。</li>\n</ol>\n<h2 id=\"移动端meta必备\"><a href=\"#移动端meta必备\" class=\"headerlink\" title=\"移动端meta必备\"></a>移动端meta必备</h2><p><code>&lt;meta name=&quot;view-port&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt;</code></p>\n<h2 id=\"对于ie低版本兼容\"><a href=\"#对于ie低版本兼容\" class=\"headerlink\" title=\"对于ie低版本兼容\"></a>对于ie低版本兼容</h2><ul>\n<li>css里 \\0  大家都懂</li>\n<li><p>html里</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!--[<span class=\"keyword\">if</span> lte IE8]&gt;</span><br><span class=\"line\">&lt;p&gt;如果浏览器小于等于ie8，那么我提示你该升级了&lt;/p&gt;</span><br><span class=\"line\">&lt;![endif]--&gt;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>格式不多说  gt 大于、lt小于、gte大于等于、lte小于等于</p>\n</li>\n</ul>\n<h2 id=\"px-em-rem\"><a href=\"#px-em-rem\" class=\"headerlink\" title=\"px em rem\"></a>px em rem</h2><ol>\n<li>px像素</li>\n<li>em 相对父元素 ，如果没设会一直往上找，很强大但会导致混乱</li>\n<li>rem 相对html，但rem ie678不支持</li>\n</ol>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html &#123;</span><br><span class=\"line\">font-size: 62.5%;</span><br><span class=\"line\">color: <span class=\"comment\">#222;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>如此一个rem会是10px </p>\n<h2 id=\"取消选中\"><a href=\"#取消选中\" class=\"headerlink\" title=\"取消选中\"></a>取消选中</h2><p>css3属性  顺序不能乱，不然谷歌没有，火狐有<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">::-moz-selection&#123;</span><br><span class=\"line\">background-color: <span class=\"comment\">#b3d4fc;</span></span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">::selection&#123;</span><br><span class=\"line\">background-color: <span class=\"comment\">#b3d4fc;</span></span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"隐藏文字\"><a href=\"#隐藏文字\" class=\"headerlink\" title=\"隐藏文字\"></a>隐藏文字</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.text-hide&#123;</span><br><span class=\"line\">font:0/0 a;</span><br><span class=\"line\">color: transparent;</span><br><span class=\"line\">text-shadow: none;</span><br><span class=\"line\">background-color: transparent;</span><br><span class=\"line\">border: 0;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>注意其中的text-hide 是为了隐藏文字，方便seo识别图片</p>\n<h2 id=\"清除浮动\"><a href=\"#清除浮动\" class=\"headerlink\" title=\"清除浮动\"></a>清除浮动</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.clearfix:after,.clearfix:before&#123;</span><br><span class=\"line\">content:<span class=\"string\">' '</span>;</span><br><span class=\"line\">display: table;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.clearfix:after&#123;</span><br><span class=\"line\">clear:both;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这种方法可以防止margin的叠加</p>\n<h2 id=\"before-利用\"><a href=\"#before-利用\" class=\"headerlink\" title=\"before 利用\"></a>before 利用</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.notice a:first-child:before&#123;</span><br><span class=\"line\">content: <span class=\"string\">'最新公告：\\00a0\\00a0'</span>;</span><br><span class=\"line\">color: <span class=\"comment\">#aaa;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>其中<code>\\00a0\\00a0</code>是不换行的空白字符,因为content没法用<code>&amp;nbsp</code>添加空格</p>\n<h2 id=\"文字不换行-多出省略\"><a href=\"#文字不换行-多出省略\" class=\"headerlink\" title=\"文字不换行,多出省略\"></a>文字不换行,多出省略</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.notice a:first-child&#123;</span><br><span class=\"line\">text-overflow: ellipsis;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">white-space: nowrap;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"设备信息\"><a href=\"#设备信息\" class=\"headerlink\" title=\"设备信息\"></a>设备信息</h2><p>用户代理字符串在控制台输入<code>navigator.userAgent</code>获得相关设备信息</p>\n<h2 id=\"文字超出隐藏\"><a href=\"#文字超出隐藏\" class=\"headerlink\" title=\"文字超出隐藏\"></a>文字超出隐藏</h2><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">white-space: nowrap;</span><br><span class=\"line\">text-overflow: ellipsis;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"图标随文字变色设计\"><a href=\"#图标随文字变色设计\" class=\"headerlink\" title=\"图标随文字变色设计\"></a>图标随文字变色设计</h2><p><strong>背景色镂空技术</strong> 利用<br><strong>currentColor</strong>表示“当前的标签所继承的文字颜色”。<br>这种设计的目的就是鼠标hover时候，图标可以跟着文字一起变色。<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.icon &#123;</span><br><span class=\"line\">display: inline-block;</span><br><span class=\"line\">width: 16px; height: 20px;</span><br><span class=\"line\">background-image: url(../201307/sprite_icons.png);</span><br><span class=\"line\">background-color: currentColor; /* 该颜色控制图标的颜色 */</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>于是，我们想要鼠标hover文字链接，其图标颜色要跟着一起变化，只要改变文字颜色就可以了：<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.link:hover &#123; </span><br><span class=\"line\">color: <span class=\"comment\">#333; </span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>因为<code>currentColor</code>继承文本颜色这个属性,<code>color</code>的改变会随之改变<code>background-color</code></p>\n<h2 id=\"margin-top溢出问题：\"><a href=\"#margin-top溢出问题：\" class=\"headerlink\" title=\"margin-top溢出问题：\"></a>margin-top溢出问题：</h2><p>给元素盒子一个垂直外边距margin-top，父元素盒子也会往下走margin-top的值。<br>有以下几点解决方案<br>1.修改父元素高度，增加padding-top                     好用，但间距变成margin+padding<br>2.为父元素添加overflow：hidden                            特别好用，相当于子元素向下移，但范围和子元素大小要注意<br>3.为父元素或者子元素申明浮动（float：left）            可以用，但会改变父子的定位，会浮起来<br>4.为父元素添加border                                            好用，但会改变边框</p>\n<h2 id=\"毛玻璃特效\"><a href=\"#毛玻璃特效\" class=\"headerlink\" title=\"毛玻璃特效\"></a>毛玻璃特效</h2><p>css代码<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.blur &#123;    </span><br><span class=\"line\">-webkit-filter: blur(20px); /* Chrome, Opera */</span><br><span class=\"line\">-moz-filter: blur(20px);</span><br><span class=\"line\">-ms-filter: blur(20px);    </span><br><span class=\"line\">filter: blur(20px);    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/**--图片上的div--**/</span><br><span class=\"line\">.top-bg&#123;</span><br><span class=\"line\">position: absolute;</span><br><span class=\"line\">top: 0;</span><br><span class=\"line\">left: 0;</span><br><span class=\"line\">width: 100%;</span><br><span class=\"line\">height: 100%;</span><br><span class=\"line\">z-index: -1;</span><br><span class=\"line\">overflow: hidden;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">.top-bg img&#123;</span><br><span class=\"line\">transform: scale(4.0);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>html代码<br><figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div&gt;  &lt;!--父层--&gt;</span><br><span class=\"line\">&lt;div class=<span class=\"string\">\"top-bg blur\"</span>&gt; &lt;!--背景层--&gt;</span><br><span class=\"line\">![](./img/37403260_p0.png)  &lt;!-- 图片层--&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br></pre></td></tr></table></figure></p>\n"},{"title":"angular4学习笔记整理（二）angular4的路由使用","date":"2018-01-12T13:35:00.000Z","_content":"这章说一下angular的路由，我也就紧急学了下，实际上在ionic里都没用到这方面的知识，ionic把路由都封好了\n先说angular路由怎么引入，一开始new出来的angular项目它路由帮你配好了，但看要看app.module.ts里面\n1. 首先最上面要引入路由模块\n```\nimport {RouterModule, Routes} from '@angular/router';\n```\n2. 然后在ngModule里面加点东西\n![Screenshot 2018-01-12_19-41-32.png](http://upload-images.jianshu.io/upload_images/6114493-aeb2f9d6fdf7cc80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n3. 这个routeConfig需要自己定义，类型Routes，里面就是angular路由配置\n\n```\nconst routeConfig: Routes = [\n{path: '' , component : HomeComponent},\n]\n```\n当然路由配置也是可以抽出来的\n\n#### 路由配置简单介绍\n1. 常用跳转\n\n```\nconst routeConfig: Routes = [\n{path: '' , component : HomeComponent}, //path为''首页即是\n{path: 'chat',component: ChatComponent,},//访问首页地址+/chat    即能访问到chat组件\n{path: 'au/:id',component: AuComponent},//路由param传参\n{path: '**',component: Code404Component} //不能匹配的路由由 ** 匹配\n]\n```\n\n其中第三个路由传参的接收方组件想要拿到参数就需要多加点\na. 首先引入 \n\n```\nimport {ActivatedRoute, Params} from '@angular/router';\n```\n\nb. 并在constructor里注入这个路由服务\n\n```\nconstructor(private routeInfo: ActivatedRoute) { }\n```\nc. 获取param参数\n其中有2种方式获取param \n第一种是snapshot 参数快照\n\n```\nngOnInit() {\n//constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params['id']的值会不变\nthis.productId = this.routeInfo.snapshot.params['id'];\n}\n```\n\n但有一个问题\n如果已经请求 localhost:4200/au/6  后，再请求 localhost:4200/au/8 ，相当于同路由跳转只是参数不同，那么第二次拿到的param数字还是第一次的6\n原因\n>constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params['id']的值会不变\n\n所以更多的获取参数更推荐第二种参数订阅的方式\n\n```\nngOnInit() {\nthis.routeInfo.params.subscribe((params: Params) => this.productId = params.id);\n}\n```\n怎么跳参数都是对的用第二种\n\n#### 子路由\n只是一层路由明显满足不了开发需求，可以再配置子路由\n```\n{\npath: 'product',\ncomponent: ProductComponent,\nchildren: [\n{\npath: 'childA', component: ChildAComponent\n},\n{\npath: 'childB', component: ChildBComponent\n}\n]\n}\n```\n\n但是子路由光这样还是不行·\n在父组件html里加跳到子路由的按钮时\n\n```\n<a [routerLink]=\"['./childA']\" >销售员A</a>\n<a [routerLink]=\"['./childB']\" >销售员B</a>\n```\n\n**注意这里不能加/ 因为斜杠指向根路径，  ./才指向相对路径**\n\n\n#### 重定向路由\n使用 redirectTo\n\n```\nconst routes: Routes = [{\npath: '',\nredirectTo: 'home/6',\npathMatch: 'full' \n}]\n```\n\n#### 辅助路由\n就是一个插座,辅助路由通过不同的outlet配置，让页面的router-outlet标签，显示不同内容\n路由配置\n\n```\nconst routes: Routes = [{//辅助路由指向ChatComponent组件，插座名称aux\npath: 'chat',\ncomponent: ChatComponent,\noutlet: 'aux'\n}]\n```\n\n引用插座的html代码\n\n```\n<a [routerLink]=\"[{outlets:{primary:'home/2',aux:'chat'}}]\" ></a>\n<a [routerLink]=\"[{outlets:{aux:null}}]\" ></a><!--不引用辅助路由-->\n<router-outlet></router-outlet> <!--插件内容显示的地方-->\n```\n\n应该会有人问第一行的primary干嘛的\n**辅助路由的改变只会改变插座的内容，不影响主路由**\n比如原本路径是 \nhttp://localhost:4200/home/0\n现在如果[routerLink]=\"[{outlets:{aux:'chat'}}]\"的a标签被点击，改变的只是辅助路由，路径会变为\nhttp://localhost:4200/home/0(aux:chat)\n只有加上primary:'home/2'，主路由才会一起变，变成http://localhost:4200/home/2(aux:chat)\n同主路由间跳来跳去想把辅助路由干掉，用第二行即可\n####路由守卫\n只有用户已经登陆或者拥有某些权限才可进入的路由\n**canActive**\n1. 写一个守卫类，继承 CanActivate 接口\n\n```\nimport {CanActivate} from '@angular/router';\nexport class LoginGuard implements CanActivate {\ncanActivate() {\nlet loginedIn: boolean = Math.random() < 0.5;\nif (!loginedIn) {\nconsole.log('用户未登陆');\n}\nreturn loginedIn;\n}\n}\n```\n\n这是CanDeactivate 与canActivate不同的是它要离开某个组件就需要保护那个组件，建立也要注入那个组件\n\n```\nexport class UnsaveGuard implements CanDeactivate<ProductComponent>{\ncanDeactivate (component: ProductComponent) {\nreturn window.confirm('是否离开');\n}\n```\n\n这两个返回都应该是boolean型\n2. 在路由配置里加配置\n**canActivate 在路由配置时可以配置一个数组，angular会一次调用数组中的项，一旦某个返回false，则会终止登陆操作**\n\n```\n{\npath: 'product',\ncomponent: ProductComponent,\ncanActivate: [loginGuard],\ncanDeactivate: [UnsaveGuard]\n}\n```\n\n服务里加上该服务\n\n```\n@NgModule({\nimports: [RouterModule.forRoot(routes)],\nproviders: [LoginGuard, UnsaveGuard],\nexports: [RouterModule]\n})\n```\n路由守卫 非常重要 。再给个我网上找的参考文章\n[http://blog.csdn.net/qq451354/article/details/54017466](http://blog.csdn.net/qq451354/article/details/54017466)\n","source":"_posts/angular4学习笔记整理（二）angular4的路由使用.md","raw":"---\ntitle: angular4学习笔记整理（二）angular4的路由使用\ndate: 2018-01-12 21:35:00\ncategories:\n- angular\ntags:\n- router\n---\n这章说一下angular的路由，我也就紧急学了下，实际上在ionic里都没用到这方面的知识，ionic把路由都封好了\n先说angular路由怎么引入，一开始new出来的angular项目它路由帮你配好了，但看要看app.module.ts里面\n1. 首先最上面要引入路由模块\n```\nimport {RouterModule, Routes} from '@angular/router';\n```\n2. 然后在ngModule里面加点东西\n![Screenshot 2018-01-12_19-41-32.png](http://upload-images.jianshu.io/upload_images/6114493-aeb2f9d6fdf7cc80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n3. 这个routeConfig需要自己定义，类型Routes，里面就是angular路由配置\n\n```\nconst routeConfig: Routes = [\n{path: '' , component : HomeComponent},\n]\n```\n当然路由配置也是可以抽出来的\n\n#### 路由配置简单介绍\n1. 常用跳转\n\n```\nconst routeConfig: Routes = [\n{path: '' , component : HomeComponent}, //path为''首页即是\n{path: 'chat',component: ChatComponent,},//访问首页地址+/chat    即能访问到chat组件\n{path: 'au/:id',component: AuComponent},//路由param传参\n{path: '**',component: Code404Component} //不能匹配的路由由 ** 匹配\n]\n```\n\n其中第三个路由传参的接收方组件想要拿到参数就需要多加点\na. 首先引入 \n\n```\nimport {ActivatedRoute, Params} from '@angular/router';\n```\n\nb. 并在constructor里注入这个路由服务\n\n```\nconstructor(private routeInfo: ActivatedRoute) { }\n```\nc. 获取param参数\n其中有2种方式获取param \n第一种是snapshot 参数快照\n\n```\nngOnInit() {\n//constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params['id']的值会不变\nthis.productId = this.routeInfo.snapshot.params['id'];\n}\n```\n\n但有一个问题\n如果已经请求 localhost:4200/au/6  后，再请求 localhost:4200/au/8 ，相当于同路由跳转只是参数不同，那么第二次拿到的param数字还是第一次的6\n原因\n>constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params['id']的值会不变\n\n所以更多的获取参数更推荐第二种参数订阅的方式\n\n```\nngOnInit() {\nthis.routeInfo.params.subscribe((params: Params) => this.productId = params.id);\n}\n```\n怎么跳参数都是对的用第二种\n\n#### 子路由\n只是一层路由明显满足不了开发需求，可以再配置子路由\n```\n{\npath: 'product',\ncomponent: ProductComponent,\nchildren: [\n{\npath: 'childA', component: ChildAComponent\n},\n{\npath: 'childB', component: ChildBComponent\n}\n]\n}\n```\n\n但是子路由光这样还是不行·\n在父组件html里加跳到子路由的按钮时\n\n```\n<a [routerLink]=\"['./childA']\" >销售员A</a>\n<a [routerLink]=\"['./childB']\" >销售员B</a>\n```\n\n**注意这里不能加/ 因为斜杠指向根路径，  ./才指向相对路径**\n\n\n#### 重定向路由\n使用 redirectTo\n\n```\nconst routes: Routes = [{\npath: '',\nredirectTo: 'home/6',\npathMatch: 'full' \n}]\n```\n\n#### 辅助路由\n就是一个插座,辅助路由通过不同的outlet配置，让页面的router-outlet标签，显示不同内容\n路由配置\n\n```\nconst routes: Routes = [{//辅助路由指向ChatComponent组件，插座名称aux\npath: 'chat',\ncomponent: ChatComponent,\noutlet: 'aux'\n}]\n```\n\n引用插座的html代码\n\n```\n<a [routerLink]=\"[{outlets:{primary:'home/2',aux:'chat'}}]\" ></a>\n<a [routerLink]=\"[{outlets:{aux:null}}]\" ></a><!--不引用辅助路由-->\n<router-outlet></router-outlet> <!--插件内容显示的地方-->\n```\n\n应该会有人问第一行的primary干嘛的\n**辅助路由的改变只会改变插座的内容，不影响主路由**\n比如原本路径是 \nhttp://localhost:4200/home/0\n现在如果[routerLink]=\"[{outlets:{aux:'chat'}}]\"的a标签被点击，改变的只是辅助路由，路径会变为\nhttp://localhost:4200/home/0(aux:chat)\n只有加上primary:'home/2'，主路由才会一起变，变成http://localhost:4200/home/2(aux:chat)\n同主路由间跳来跳去想把辅助路由干掉，用第二行即可\n####路由守卫\n只有用户已经登陆或者拥有某些权限才可进入的路由\n**canActive**\n1. 写一个守卫类，继承 CanActivate 接口\n\n```\nimport {CanActivate} from '@angular/router';\nexport class LoginGuard implements CanActivate {\ncanActivate() {\nlet loginedIn: boolean = Math.random() < 0.5;\nif (!loginedIn) {\nconsole.log('用户未登陆');\n}\nreturn loginedIn;\n}\n}\n```\n\n这是CanDeactivate 与canActivate不同的是它要离开某个组件就需要保护那个组件，建立也要注入那个组件\n\n```\nexport class UnsaveGuard implements CanDeactivate<ProductComponent>{\ncanDeactivate (component: ProductComponent) {\nreturn window.confirm('是否离开');\n}\n```\n\n这两个返回都应该是boolean型\n2. 在路由配置里加配置\n**canActivate 在路由配置时可以配置一个数组，angular会一次调用数组中的项，一旦某个返回false，则会终止登陆操作**\n\n```\n{\npath: 'product',\ncomponent: ProductComponent,\ncanActivate: [loginGuard],\ncanDeactivate: [UnsaveGuard]\n}\n```\n\n服务里加上该服务\n\n```\n@NgModule({\nimports: [RouterModule.forRoot(routes)],\nproviders: [LoginGuard, UnsaveGuard],\nexports: [RouterModule]\n})\n```\n路由守卫 非常重要 。再给个我网上找的参考文章\n[http://blog.csdn.net/qq451354/article/details/54017466](http://blog.csdn.net/qq451354/article/details/54017466)\n","slug":"angular4学习笔记整理（二）angular4的路由使用","published":1,"updated":"2018-11-25T10:21:46.687Z","_id":"cjowizay70000b4aat4k51q7n","comments":1,"layout":"post","photos":[],"link":"","content":"<p>这章说一下angular的路由，我也就紧急学了下，实际上在ionic里都没用到这方面的知识，ionic把路由都封好了<br>先说angular路由怎么引入，一开始new出来的angular项目它路由帮你配好了，但看要看app.module.ts里面</p>\n<ol>\n<li><p>首先最上面要引入路由模块</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;RouterModule, Routes&#125; from &apos;@angular/router&apos;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>然后在ngModule里面加点东西<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-aeb2f9d6fdf7cc80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-01-12_19-41-32.png\"></p>\n</li>\n<li>这个routeConfig需要自己定义，类型Routes，里面就是angular路由配置</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routeConfig: Routes = [</span><br><span class=\"line\">&#123;path: &apos;&apos; , component : HomeComponent&#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>当然路由配置也是可以抽出来的</p>\n<h4 id=\"路由配置简单介绍\"><a href=\"#路由配置简单介绍\" class=\"headerlink\" title=\"路由配置简单介绍\"></a>路由配置简单介绍</h4><ol>\n<li>常用跳转</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routeConfig: Routes = [</span><br><span class=\"line\">&#123;path: &apos;&apos; , component : HomeComponent&#125;, //path为&apos;&apos;首页即是</span><br><span class=\"line\">&#123;path: &apos;chat&apos;,component: ChatComponent,&#125;,//访问首页地址+/chat    即能访问到chat组件</span><br><span class=\"line\">&#123;path: &apos;au/:id&apos;,component: AuComponent&#125;,//路由param传参</span><br><span class=\"line\">&#123;path: &apos;**&apos;,component: Code404Component&#125; //不能匹配的路由由 ** 匹配</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>其中第三个路由传参的接收方组件想要拿到参数就需要多加点<br>a. 首先引入 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;ActivatedRoute, Params&#125; from &apos;@angular/router&apos;;</span><br></pre></td></tr></table></figure>\n<p>b. 并在constructor里注入这个路由服务</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">constructor(private routeInfo: ActivatedRoute) &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p>c. 获取param参数<br>其中有2种方式获取param<br>第一种是snapshot 参数快照</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ngOnInit() &#123;</span><br><span class=\"line\">//constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params[&apos;id&apos;]的值会不变</span><br><span class=\"line\">this.productId = this.routeInfo.snapshot.params[&apos;id&apos;];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>但有一个问题<br>如果已经请求 localhost:4200/au/6  后，再请求 localhost:4200/au/8 ，相当于同路由跳转只是参数不同，那么第二次拿到的param数字还是第一次的6<br>原因</p>\n<blockquote>\n<p>constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params[‘id’]的值会不变</p>\n</blockquote>\n<p>所以更多的获取参数更推荐第二种参数订阅的方式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ngOnInit() &#123;</span><br><span class=\"line\">this.routeInfo.params.subscribe((params: Params) =&gt; this.productId = params.id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>怎么跳参数都是对的用第二种</p>\n<h4 id=\"子路由\"><a href=\"#子路由\" class=\"headerlink\" title=\"子路由\"></a>子路由</h4><p>只是一层路由明显满足不了开发需求，可以再配置子路由<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;product&apos;,</span><br><span class=\"line\">component: ProductComponent,</span><br><span class=\"line\">children: [</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;childA&apos;, component: ChildAComponent</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;childB&apos;, component: ChildBComponent</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>但是子路由光这样还是不行·<br>在父组件html里加跳到子路由的按钮时</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a [routerLink]=&quot;[&apos;./childA&apos;]&quot; &gt;销售员A&lt;/a&gt;</span><br><span class=\"line\">&lt;a [routerLink]=&quot;[&apos;./childB&apos;]&quot; &gt;销售员B&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p><strong>注意这里不能加/ 因为斜杠指向根路径，  ./才指向相对路径</strong></p>\n<h4 id=\"重定向路由\"><a href=\"#重定向路由\" class=\"headerlink\" title=\"重定向路由\"></a>重定向路由</h4><p>使用 redirectTo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routes: Routes = [&#123;</span><br><span class=\"line\">path: &apos;&apos;,</span><br><span class=\"line\">redirectTo: &apos;home/6&apos;,</span><br><span class=\"line\">pathMatch: &apos;full&apos; </span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<h4 id=\"辅助路由\"><a href=\"#辅助路由\" class=\"headerlink\" title=\"辅助路由\"></a>辅助路由</h4><p>就是一个插座,辅助路由通过不同的outlet配置，让页面的router-outlet标签，显示不同内容<br>路由配置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routes: Routes = [&#123;//辅助路由指向ChatComponent组件，插座名称aux</span><br><span class=\"line\">path: &apos;chat&apos;,</span><br><span class=\"line\">component: ChatComponent,</span><br><span class=\"line\">outlet: &apos;aux&apos;</span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<p>引用插座的html代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a [routerLink]=&quot;[&#123;outlets:&#123;primary:&apos;home/2&apos;,aux:&apos;chat&apos;&#125;&#125;]&quot; &gt;&lt;/a&gt;</span><br><span class=\"line\">&lt;a [routerLink]=&quot;[&#123;outlets:&#123;aux:null&#125;&#125;]&quot; &gt;&lt;/a&gt;&lt;!--不引用辅助路由--&gt;</span><br><span class=\"line\">&lt;router-outlet&gt;&lt;/router-outlet&gt; &lt;!--插件内容显示的地方--&gt;</span><br></pre></td></tr></table></figure>\n<p>应该会有人问第一行的primary干嘛的<br><strong>辅助路由的改变只会改变插座的内容，不影响主路由</strong><br>比如原本路径是<br><a href=\"http://localhost:4200/home/0\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/0</a><br>现在如果[routerLink]=”[{outlets:{aux:’chat’}}]”的a标签被点击，改变的只是辅助路由，路径会变为<br><a href=\"http://localhost:4200/home/0(aux:chat\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/0(aux:chat</a>)<br>只有加上primary:’home/2’，主路由才会一起变，变成<a href=\"http://localhost:4200/home/2(aux:chat\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/2(aux:chat</a>)<br>同主路由间跳来跳去想把辅助路由干掉，用第二行即可</p>\n<p>####路由守卫<br>只有用户已经登陆或者拥有某些权限才可进入的路由<br><strong>canActive</strong></p>\n<ol>\n<li>写一个守卫类，继承 CanActivate 接口</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;CanActivate&#125; from &apos;@angular/router&apos;;</span><br><span class=\"line\">export class LoginGuard implements CanActivate &#123;</span><br><span class=\"line\">canActivate() &#123;</span><br><span class=\"line\">let loginedIn: boolean = Math.random() &lt; 0.5;</span><br><span class=\"line\">if (!loginedIn) &#123;</span><br><span class=\"line\">console.log(&apos;用户未登陆&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return loginedIn;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这是CanDeactivate 与canActivate不同的是它要离开某个组件就需要保护那个组件，建立也要注入那个组件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class UnsaveGuard implements CanDeactivate&lt;ProductComponent&gt;&#123;</span><br><span class=\"line\">canDeactivate (component: ProductComponent) &#123;</span><br><span class=\"line\">return window.confirm(&apos;是否离开&apos;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这两个返回都应该是boolean型</p>\n<ol>\n<li>在路由配置里加配置<br><strong>canActivate 在路由配置时可以配置一个数组，angular会一次调用数组中的项，一旦某个返回false，则会终止登陆操作</strong></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;product&apos;,</span><br><span class=\"line\">component: ProductComponent,</span><br><span class=\"line\">canActivate: [loginGuard],</span><br><span class=\"line\">canDeactivate: [UnsaveGuard]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>服务里加上该服务</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@NgModule(&#123;</span><br><span class=\"line\">imports: [RouterModule.forRoot(routes)],</span><br><span class=\"line\">providers: [LoginGuard, UnsaveGuard],</span><br><span class=\"line\">exports: [RouterModule]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>路由守卫 非常重要 。再给个我网上找的参考文章<br><a href=\"http://blog.csdn.net/qq451354/article/details/54017466\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/qq451354/article/details/54017466</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>这章说一下angular的路由，我也就紧急学了下，实际上在ionic里都没用到这方面的知识，ionic把路由都封好了<br>先说angular路由怎么引入，一开始new出来的angular项目它路由帮你配好了，但看要看app.module.ts里面</p>\n<ol>\n<li><p>首先最上面要引入路由模块</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;RouterModule, Routes&#125; from &apos;@angular/router&apos;;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>然后在ngModule里面加点东西<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-aeb2f9d6fdf7cc80.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-01-12_19-41-32.png\"></p>\n</li>\n<li>这个routeConfig需要自己定义，类型Routes，里面就是angular路由配置</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routeConfig: Routes = [</span><br><span class=\"line\">&#123;path: &apos;&apos; , component : HomeComponent&#125;,</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>当然路由配置也是可以抽出来的</p>\n<h4 id=\"路由配置简单介绍\"><a href=\"#路由配置简单介绍\" class=\"headerlink\" title=\"路由配置简单介绍\"></a>路由配置简单介绍</h4><ol>\n<li>常用跳转</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routeConfig: Routes = [</span><br><span class=\"line\">&#123;path: &apos;&apos; , component : HomeComponent&#125;, //path为&apos;&apos;首页即是</span><br><span class=\"line\">&#123;path: &apos;chat&apos;,component: ChatComponent,&#125;,//访问首页地址+/chat    即能访问到chat组件</span><br><span class=\"line\">&#123;path: &apos;au/:id&apos;,component: AuComponent&#125;,//路由param传参</span><br><span class=\"line\">&#123;path: &apos;**&apos;,component: Code404Component&#125; //不能匹配的路由由 ** 匹配</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n<p>其中第三个路由传参的接收方组件想要拿到参数就需要多加点<br>a. 首先引入 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;ActivatedRoute, Params&#125; from &apos;@angular/router&apos;;</span><br></pre></td></tr></table></figure>\n<p>b. 并在constructor里注入这个路由服务</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">constructor(private routeInfo: ActivatedRoute) &#123; &#125;</span><br></pre></td></tr></table></figure>\n<p>c. 获取param参数<br>其中有2种方式获取param<br>第一种是snapshot 参数快照</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ngOnInit() &#123;</span><br><span class=\"line\">//constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params[&apos;id&apos;]的值会不变</span><br><span class=\"line\">this.productId = this.routeInfo.snapshot.params[&apos;id&apos;];</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>但有一个问题<br>如果已经请求 localhost:4200/au/6  后，再请求 localhost:4200/au/8 ，相当于同路由跳转只是参数不同，那么第二次拿到的param数字还是第一次的6<br>原因</p>\n<blockquote>\n<p>constructor创建时会只创建一次ngOnInit，所以this.routeInfo.snapshot.params[‘id’]的值会不变</p>\n</blockquote>\n<p>所以更多的获取参数更推荐第二种参数订阅的方式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ngOnInit() &#123;</span><br><span class=\"line\">this.routeInfo.params.subscribe((params: Params) =&gt; this.productId = params.id);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>怎么跳参数都是对的用第二种</p>\n<h4 id=\"子路由\"><a href=\"#子路由\" class=\"headerlink\" title=\"子路由\"></a>子路由</h4><p>只是一层路由明显满足不了开发需求，可以再配置子路由<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;product&apos;,</span><br><span class=\"line\">component: ProductComponent,</span><br><span class=\"line\">children: [</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;childA&apos;, component: ChildAComponent</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;childB&apos;, component: ChildBComponent</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>但是子路由光这样还是不行·<br>在父组件html里加跳到子路由的按钮时</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a [routerLink]=&quot;[&apos;./childA&apos;]&quot; &gt;销售员A&lt;/a&gt;</span><br><span class=\"line\">&lt;a [routerLink]=&quot;[&apos;./childB&apos;]&quot; &gt;销售员B&lt;/a&gt;</span><br></pre></td></tr></table></figure>\n<p><strong>注意这里不能加/ 因为斜杠指向根路径，  ./才指向相对路径</strong></p>\n<h4 id=\"重定向路由\"><a href=\"#重定向路由\" class=\"headerlink\" title=\"重定向路由\"></a>重定向路由</h4><p>使用 redirectTo</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routes: Routes = [&#123;</span><br><span class=\"line\">path: &apos;&apos;,</span><br><span class=\"line\">redirectTo: &apos;home/6&apos;,</span><br><span class=\"line\">pathMatch: &apos;full&apos; </span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<h4 id=\"辅助路由\"><a href=\"#辅助路由\" class=\"headerlink\" title=\"辅助路由\"></a>辅助路由</h4><p>就是一个插座,辅助路由通过不同的outlet配置，让页面的router-outlet标签，显示不同内容<br>路由配置</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">const routes: Routes = [&#123;//辅助路由指向ChatComponent组件，插座名称aux</span><br><span class=\"line\">path: &apos;chat&apos;,</span><br><span class=\"line\">component: ChatComponent,</span><br><span class=\"line\">outlet: &apos;aux&apos;</span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<p>引用插座的html代码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;a [routerLink]=&quot;[&#123;outlets:&#123;primary:&apos;home/2&apos;,aux:&apos;chat&apos;&#125;&#125;]&quot; &gt;&lt;/a&gt;</span><br><span class=\"line\">&lt;a [routerLink]=&quot;[&#123;outlets:&#123;aux:null&#125;&#125;]&quot; &gt;&lt;/a&gt;&lt;!--不引用辅助路由--&gt;</span><br><span class=\"line\">&lt;router-outlet&gt;&lt;/router-outlet&gt; &lt;!--插件内容显示的地方--&gt;</span><br></pre></td></tr></table></figure>\n<p>应该会有人问第一行的primary干嘛的<br><strong>辅助路由的改变只会改变插座的内容，不影响主路由</strong><br>比如原本路径是<br><a href=\"http://localhost:4200/home/0\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/0</a><br>现在如果[routerLink]=”[{outlets:{aux:’chat’}}]”的a标签被点击，改变的只是辅助路由，路径会变为<br><a href=\"http://localhost:4200/home/0(aux:chat\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/0(aux:chat</a>)<br>只有加上primary:’home/2’，主路由才会一起变，变成<a href=\"http://localhost:4200/home/2(aux:chat\" target=\"_blank\" rel=\"noopener\">http://localhost:4200/home/2(aux:chat</a>)<br>同主路由间跳来跳去想把辅助路由干掉，用第二行即可</p>\n<p>####路由守卫<br>只有用户已经登陆或者拥有某些权限才可进入的路由<br><strong>canActive</strong></p>\n<ol>\n<li>写一个守卫类，继承 CanActivate 接口</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import &#123;CanActivate&#125; from &apos;@angular/router&apos;;</span><br><span class=\"line\">export class LoginGuard implements CanActivate &#123;</span><br><span class=\"line\">canActivate() &#123;</span><br><span class=\"line\">let loginedIn: boolean = Math.random() &lt; 0.5;</span><br><span class=\"line\">if (!loginedIn) &#123;</span><br><span class=\"line\">console.log(&apos;用户未登陆&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">return loginedIn;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这是CanDeactivate 与canActivate不同的是它要离开某个组件就需要保护那个组件，建立也要注入那个组件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class UnsaveGuard implements CanDeactivate&lt;ProductComponent&gt;&#123;</span><br><span class=\"line\">canDeactivate (component: ProductComponent) &#123;</span><br><span class=\"line\">return window.confirm(&apos;是否离开&apos;);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>这两个返回都应该是boolean型</p>\n<ol>\n<li>在路由配置里加配置<br><strong>canActivate 在路由配置时可以配置一个数组，angular会一次调用数组中的项，一旦某个返回false，则会终止登陆操作</strong></li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">path: &apos;product&apos;,</span><br><span class=\"line\">component: ProductComponent,</span><br><span class=\"line\">canActivate: [loginGuard],</span><br><span class=\"line\">canDeactivate: [UnsaveGuard]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>服务里加上该服务</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@NgModule(&#123;</span><br><span class=\"line\">imports: [RouterModule.forRoot(routes)],</span><br><span class=\"line\">providers: [LoginGuard, UnsaveGuard],</span><br><span class=\"line\">exports: [RouterModule]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>路由守卫 非常重要 。再给个我网上找的参考文章<br><a href=\"http://blog.csdn.net/qq451354/article/details/54017466\" target=\"_blank\" rel=\"noopener\">http://blog.csdn.net/qq451354/article/details/54017466</a></p>\n"},{"title":"angular4学习笔记整理（三）angular4的服务","date":"2018-01-12T13:35:00.000Z","_content":"## 依赖注入基本步骤\n1. 生成service\n```\nexport class ProductService {\nconstructor() { }\ngetProduct(): Product {\nreturn new Product(1, 'iphone', 5899, 'hahah');\n}\n}\n```\n2. app.module.ts或者 某组件的配置里加上 提供器\n```\n@NgModule({\ndeclarations: [\nAppComponent,\nProduct1Component,\nProduct2Component\n],\nimports: [\nBrowserModule\n],\nproviders: [ProductService],\nbootstrap: [AppComponent]\n})\n```\n在module里配置的providers会对所有组件生效\n但如果在组件的ts里面配置，则组件里配置的优先生效如：\n```\n@Component({\nselector: 'app-product2',\ntemplateUrl: './product2.component.html',\nstyleUrls: ['./product2.component.css'],\nproviders: [{provide: ProductService , useClass: AnotherProductService}]\n})\n```\n并且可以根据\n```\nproviders: [{provide: ProductService , useClass: AnotherProductService}]\n```\n来指定不同的服务，虽然不同class，但在组件生成的东西还是一样的\n\n3. 在组件里面注入服务如\n```\nconstructor(private productService: ProductService) { }\n```\n\n另外\n服务之间也能相互注入靠@Injectable()\n服务之间也可以注入，步骤一样，注册提供\n\n还有这个\n工厂和值申明提供器,高级玩法，我就学过没用过，提醒一下自己\n```\nproviders: [\n// ProductService,\n{\nprovide: ProductService ,\nuseFactory: (logger: LoggerService, isDev) => {   //依赖注入服务工厂方法，实例化不同的productService\n// let logger = new LoggerService();\nif (isDev) {\nreturn new ProductService(logger);\n}else{\nreturn new AnotherProductService(logger);\n}\n},\ndeps: [ LoggerService , \"IS_DEV_ENV\"]     //工厂方法也可以注入服务或者值，前一个是login服务 ，后一个是 变量注入（可以使对象）\n},\n{provide : \"IS_DEV_ENV\" , useValue : false },  //声明的值服务\nLoggerService\n],\n```\n","source":"_posts/angular4学习笔记整理（三）angular4的服务.md","raw":"---\ntitle: angular4学习笔记整理（三）angular4的服务\ndate: 2018-01-12 21:35:00\ncategories:\n- angular\ntags:\n- service\n---\n## 依赖注入基本步骤\n1. 生成service\n```\nexport class ProductService {\nconstructor() { }\ngetProduct(): Product {\nreturn new Product(1, 'iphone', 5899, 'hahah');\n}\n}\n```\n2. app.module.ts或者 某组件的配置里加上 提供器\n```\n@NgModule({\ndeclarations: [\nAppComponent,\nProduct1Component,\nProduct2Component\n],\nimports: [\nBrowserModule\n],\nproviders: [ProductService],\nbootstrap: [AppComponent]\n})\n```\n在module里配置的providers会对所有组件生效\n但如果在组件的ts里面配置，则组件里配置的优先生效如：\n```\n@Component({\nselector: 'app-product2',\ntemplateUrl: './product2.component.html',\nstyleUrls: ['./product2.component.css'],\nproviders: [{provide: ProductService , useClass: AnotherProductService}]\n})\n```\n并且可以根据\n```\nproviders: [{provide: ProductService , useClass: AnotherProductService}]\n```\n来指定不同的服务，虽然不同class，但在组件生成的东西还是一样的\n\n3. 在组件里面注入服务如\n```\nconstructor(private productService: ProductService) { }\n```\n\n另外\n服务之间也能相互注入靠@Injectable()\n服务之间也可以注入，步骤一样，注册提供\n\n还有这个\n工厂和值申明提供器,高级玩法，我就学过没用过，提醒一下自己\n```\nproviders: [\n// ProductService,\n{\nprovide: ProductService ,\nuseFactory: (logger: LoggerService, isDev) => {   //依赖注入服务工厂方法，实例化不同的productService\n// let logger = new LoggerService();\nif (isDev) {\nreturn new ProductService(logger);\n}else{\nreturn new AnotherProductService(logger);\n}\n},\ndeps: [ LoggerService , \"IS_DEV_ENV\"]     //工厂方法也可以注入服务或者值，前一个是login服务 ，后一个是 变量注入（可以使对象）\n},\n{provide : \"IS_DEV_ENV\" , useValue : false },  //声明的值服务\nLoggerService\n],\n```\n","slug":"angular4学习笔记整理（三）angular4的服务","published":1,"updated":"2018-11-25T10:16:04.813Z","_id":"cjowizp820001b7aa9rl29p5h","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"依赖注入基本步骤\"><a href=\"#依赖注入基本步骤\" class=\"headerlink\" title=\"依赖注入基本步骤\"></a>依赖注入基本步骤</h2><ol>\n<li><p>生成service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class ProductService &#123;</span><br><span class=\"line\">constructor() &#123; &#125;</span><br><span class=\"line\">getProduct(): Product &#123;</span><br><span class=\"line\">return new Product(1, &apos;iphone&apos;, 5899, &apos;hahah&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>app.module.ts或者 某组件的配置里加上 提供器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@NgModule(&#123;</span><br><span class=\"line\">declarations: [</span><br><span class=\"line\">AppComponent,</span><br><span class=\"line\">Product1Component,</span><br><span class=\"line\">Product2Component</span><br><span class=\"line\">],</span><br><span class=\"line\">imports: [</span><br><span class=\"line\">BrowserModule</span><br><span class=\"line\">],</span><br><span class=\"line\">providers: [ProductService],</span><br><span class=\"line\">bootstrap: [AppComponent]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>在module里配置的providers会对所有组件生效<br>但如果在组件的ts里面配置，则组件里配置的优先生效如：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">selector: &apos;app-product2&apos;,</span><br><span class=\"line\">templateUrl: &apos;./product2.component.html&apos;,</span><br><span class=\"line\">styleUrls: [&apos;./product2.component.css&apos;],</span><br><span class=\"line\">providers: [&#123;provide: ProductService , useClass: AnotherProductService&#125;]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>并且可以根据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers: [&#123;provide: ProductService , useClass: AnotherProductService&#125;]</span><br></pre></td></tr></table></figure></p>\n<p>来指定不同的服务，虽然不同class，但在组件生成的东西还是一样的</p>\n<ol>\n<li>在组件里面注入服务如<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">constructor(private productService: ProductService) &#123; &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>另外<br>服务之间也能相互注入靠@Injectable()<br>服务之间也可以注入，步骤一样，注册提供</p>\n<p>还有这个<br>工厂和值申明提供器,高级玩法，我就学过没用过，提醒一下自己<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers: [</span><br><span class=\"line\">// ProductService,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">provide: ProductService ,</span><br><span class=\"line\">useFactory: (logger: LoggerService, isDev) =&gt; &#123;   //依赖注入服务工厂方法，实例化不同的productService</span><br><span class=\"line\">// let logger = new LoggerService();</span><br><span class=\"line\">if (isDev) &#123;</span><br><span class=\"line\">return new ProductService(logger);</span><br><span class=\"line\">&#125;else&#123;</span><br><span class=\"line\">return new AnotherProductService(logger);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">deps: [ LoggerService , &quot;IS_DEV_ENV&quot;]     //工厂方法也可以注入服务或者值，前一个是login服务 ，后一个是 变量注入（可以使对象）</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;provide : &quot;IS_DEV_ENV&quot; , useValue : false &#125;,  //声明的值服务</span><br><span class=\"line\">LoggerService</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"依赖注入基本步骤\"><a href=\"#依赖注入基本步骤\" class=\"headerlink\" title=\"依赖注入基本步骤\"></a>依赖注入基本步骤</h2><ol>\n<li><p>生成service</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class ProductService &#123;</span><br><span class=\"line\">constructor() &#123; &#125;</span><br><span class=\"line\">getProduct(): Product &#123;</span><br><span class=\"line\">return new Product(1, &apos;iphone&apos;, 5899, &apos;hahah&apos;);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>app.module.ts或者 某组件的配置里加上 提供器</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@NgModule(&#123;</span><br><span class=\"line\">declarations: [</span><br><span class=\"line\">AppComponent,</span><br><span class=\"line\">Product1Component,</span><br><span class=\"line\">Product2Component</span><br><span class=\"line\">],</span><br><span class=\"line\">imports: [</span><br><span class=\"line\">BrowserModule</span><br><span class=\"line\">],</span><br><span class=\"line\">providers: [ProductService],</span><br><span class=\"line\">bootstrap: [AppComponent]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>在module里配置的providers会对所有组件生效<br>但如果在组件的ts里面配置，则组件里配置的优先生效如：<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">selector: &apos;app-product2&apos;,</span><br><span class=\"line\">templateUrl: &apos;./product2.component.html&apos;,</span><br><span class=\"line\">styleUrls: [&apos;./product2.component.css&apos;],</span><br><span class=\"line\">providers: [&#123;provide: ProductService , useClass: AnotherProductService&#125;]</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure></p>\n<p>并且可以根据<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers: [&#123;provide: ProductService , useClass: AnotherProductService&#125;]</span><br></pre></td></tr></table></figure></p>\n<p>来指定不同的服务，虽然不同class，但在组件生成的东西还是一样的</p>\n<ol>\n<li>在组件里面注入服务如<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">constructor(private productService: ProductService) &#123; &#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>另外<br>服务之间也能相互注入靠@Injectable()<br>服务之间也可以注入，步骤一样，注册提供</p>\n<p>还有这个<br>工厂和值申明提供器,高级玩法，我就学过没用过，提醒一下自己<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">providers: [</span><br><span class=\"line\">// ProductService,</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">provide: ProductService ,</span><br><span class=\"line\">useFactory: (logger: LoggerService, isDev) =&gt; &#123;   //依赖注入服务工厂方法，实例化不同的productService</span><br><span class=\"line\">// let logger = new LoggerService();</span><br><span class=\"line\">if (isDev) &#123;</span><br><span class=\"line\">return new ProductService(logger);</span><br><span class=\"line\">&#125;else&#123;</span><br><span class=\"line\">return new AnotherProductService(logger);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">deps: [ LoggerService , &quot;IS_DEV_ENV&quot;]     //工厂方法也可以注入服务或者值，前一个是login服务 ，后一个是 变量注入（可以使对象）</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\">&#123;provide : &quot;IS_DEV_ENV&quot; , useValue : false &#125;,  //声明的值服务</span><br><span class=\"line\">LoggerService</span><br><span class=\"line\">],</span><br></pre></td></tr></table></figure></p>\n"},{"title":"angular4学习笔记整理（四）组件间通讯、管道","date":"2018-01-12T13:35:00.000Z","_content":"####组件间通讯\n1.组件间通讯 。  \n父组件向子组件输入属性用\n```\n<app-order [stockCode]=\"stock\" [amount]=\"100\"></app-order>\n```\n子组件声明接收父组件的属性@input()注解\n```\n@Input()\namount: number;\n```\n\n2.组件输出属性\n\n1.在发射的组件内部定义发射的EventEmitter对象\n```\n@Output()\nlastPrice: EventEmitter<PriceQuote> = new EventEmitter();\n```\n2.在发射组件里 将要发射的变量发射出去 ，注意类型必须和定义里的泛型一致\n```\nlet pq = new PriceQuote(this.stockCode, Math.random() * 100);\nthis.lastPrice.emit(pq);\n```\n3.在发射组件标签声明的地方加上监听该emitEvent对象传过来的事件\n```\n<app-price-quote (lastPrice)=\"priceQuoteHandler($event)\"></app-price-quote>\n```\n\n然后父组件里就可以写，事件就是发射过来的值\n```\npriceQuoteHandler(priceQuote) {\nthis.priceQuote = priceQuote;\n}\n```\n注意想监听事件的名字即不是lastPrice 只要在output里改即可\n```\n@Output('priceChange')\n```\n但是这样有感觉很麻烦，能不能用**双向绑定**\n\n还有注意 如果一个属性想用双向绑定 那么如果输入属性为rating ，并且想在标签上```[(rating)]```，获取输出值那么在组件内的输出属性 名称必须为```ratingChange```  ，加个Change\n```\n@Output()\nprivate ratingChange: EventEmitter<number> = new EventEmitter();\n```\n\n####管道\n普通应用，这个使用可以去查官网\n```\n<p>{{birthday | date : 'yyyy-MM-dd HH:mm:ss'}}</p>\n<p>{{pi | number: '2.2-4'}}</p>\n```\n自定义管道需命令行生成 ```ng g pipe name```\n管道和组件一样需申明在NgModule里\n```\ndeclarations: [\nFilterPipe\n],\n```\n自定义管道\n```\nimport { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\nname: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\ntransform(list: any[], filterField: string, keyword: string): any {\nif (!filterField || !keyword) {\nreturn list;\n}\nreturn list.filter( item => {\nlet fieldVaule = item[filterField];\nreturn fieldVaule.indexOf(keyword) >= 0;\n});\n}\n}\n```\n####如何在父组件中调用子组件的方法\n子组件就一个gretting的方法\n```\n父组件html代码\n<app-children #child1></app-children>\n<app-children #child2></app-children>\n<button (click)=\"child2.gretting('jsex')\">hahah1</button>\n```\n父组件ts代码\n```\nimport { Component, OnInit, ViewChild} from '@angular/core';\nimport {ChildrenComponent} from './children/children.component';\n\n@Component({\nselector: 'app-root',\ntemplateUrl: './app.component.html',\nstyleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit,{\n@ViewChild('child1')\nchild1: ChildrenComponent;\ngreeting: string = 'heelo';\nngOnInit(): void {\nthis.child1.gretting(this.greeting);\n}\n}\n```\n\n1.在ts中调用子组件方法\nhtml里\n```\n<app-children #child1></app-children>\n```\nts里\n```\n@ViewChild('child1')\nchild1: ChildrenComponent;\n```\n父组件ts任意地方就可以\n```\nthis.child1.gretting(this.greeting);\n```\n\n2.在html里调用子组件api\n```\n<app-children #child2></app-children>\n<button (click)=\"child2.gretting('jsex')\">hahah</button>\n```\n\n","source":"_posts/angular4学习笔记整理（四）组件间通讯、管道.md","raw":"---\ntitle: angular4学习笔记整理（四）组件间通讯、管道\ndate: 2018-01-12 21:35:00\ncategories:\n- angular\ntags:\n- pipe \n- emit\n---\n####组件间通讯\n1.组件间通讯 。  \n父组件向子组件输入属性用\n```\n<app-order [stockCode]=\"stock\" [amount]=\"100\"></app-order>\n```\n子组件声明接收父组件的属性@input()注解\n```\n@Input()\namount: number;\n```\n\n2.组件输出属性\n\n1.在发射的组件内部定义发射的EventEmitter对象\n```\n@Output()\nlastPrice: EventEmitter<PriceQuote> = new EventEmitter();\n```\n2.在发射组件里 将要发射的变量发射出去 ，注意类型必须和定义里的泛型一致\n```\nlet pq = new PriceQuote(this.stockCode, Math.random() * 100);\nthis.lastPrice.emit(pq);\n```\n3.在发射组件标签声明的地方加上监听该emitEvent对象传过来的事件\n```\n<app-price-quote (lastPrice)=\"priceQuoteHandler($event)\"></app-price-quote>\n```\n\n然后父组件里就可以写，事件就是发射过来的值\n```\npriceQuoteHandler(priceQuote) {\nthis.priceQuote = priceQuote;\n}\n```\n注意想监听事件的名字即不是lastPrice 只要在output里改即可\n```\n@Output('priceChange')\n```\n但是这样有感觉很麻烦，能不能用**双向绑定**\n\n还有注意 如果一个属性想用双向绑定 那么如果输入属性为rating ，并且想在标签上```[(rating)]```，获取输出值那么在组件内的输出属性 名称必须为```ratingChange```  ，加个Change\n```\n@Output()\nprivate ratingChange: EventEmitter<number> = new EventEmitter();\n```\n\n####管道\n普通应用，这个使用可以去查官网\n```\n<p>{{birthday | date : 'yyyy-MM-dd HH:mm:ss'}}</p>\n<p>{{pi | number: '2.2-4'}}</p>\n```\n自定义管道需命令行生成 ```ng g pipe name```\n管道和组件一样需申明在NgModule里\n```\ndeclarations: [\nFilterPipe\n],\n```\n自定义管道\n```\nimport { Pipe, PipeTransform } from '@angular/core';\n@Pipe({\nname: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\ntransform(list: any[], filterField: string, keyword: string): any {\nif (!filterField || !keyword) {\nreturn list;\n}\nreturn list.filter( item => {\nlet fieldVaule = item[filterField];\nreturn fieldVaule.indexOf(keyword) >= 0;\n});\n}\n}\n```\n####如何在父组件中调用子组件的方法\n子组件就一个gretting的方法\n```\n父组件html代码\n<app-children #child1></app-children>\n<app-children #child2></app-children>\n<button (click)=\"child2.gretting('jsex')\">hahah1</button>\n```\n父组件ts代码\n```\nimport { Component, OnInit, ViewChild} from '@angular/core';\nimport {ChildrenComponent} from './children/children.component';\n\n@Component({\nselector: 'app-root',\ntemplateUrl: './app.component.html',\nstyleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit,{\n@ViewChild('child1')\nchild1: ChildrenComponent;\ngreeting: string = 'heelo';\nngOnInit(): void {\nthis.child1.gretting(this.greeting);\n}\n}\n```\n\n1.在ts中调用子组件方法\nhtml里\n```\n<app-children #child1></app-children>\n```\nts里\n```\n@ViewChild('child1')\nchild1: ChildrenComponent;\n```\n父组件ts任意地方就可以\n```\nthis.child1.gretting(this.greeting);\n```\n\n2.在html里调用子组件api\n```\n<app-children #child2></app-children>\n<button (click)=\"child2.gretting('jsex')\">hahah</button>\n```\n\n","slug":"angular4学习笔记整理（四）组件间通讯、管道","published":1,"updated":"2018-11-25T10:26:46.915Z","_id":"cjowj0c570000b9aaug7pg9zt","comments":1,"layout":"post","photos":[],"link":"","content":"<p>####组件间通讯<br>1.组件间通讯 。<br>父组件向子组件输入属性用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-order [stockCode]=&quot;stock&quot; [amount]=&quot;100&quot;&gt;&lt;/app-order&gt;</span><br></pre></td></tr></table></figure></p>\n<p>子组件声明接收父组件的属性@input()注解<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Input()</span><br><span class=\"line\">amount: number;</span><br></pre></td></tr></table></figure></p>\n<p>2.组件输出属性</p>\n<p>1.在发射的组件内部定义发射的EventEmitter对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Output()</span><br><span class=\"line\">lastPrice: EventEmitter&lt;PriceQuote&gt; = new EventEmitter();</span><br></pre></td></tr></table></figure></p>\n<p>2.在发射组件里 将要发射的变量发射出去 ，注意类型必须和定义里的泛型一致<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let pq = new PriceQuote(this.stockCode, Math.random() * 100);</span><br><span class=\"line\">this.lastPrice.emit(pq);</span><br></pre></td></tr></table></figure></p>\n<p>3.在发射组件标签声明的地方加上监听该emitEvent对象传过来的事件<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-price-quote (lastPrice)=&quot;priceQuoteHandler($event)&quot;&gt;&lt;/app-price-quote&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后父组件里就可以写，事件就是发射过来的值<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">priceQuoteHandler(priceQuote) &#123;</span><br><span class=\"line\">this.priceQuote = priceQuote;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>注意想监听事件的名字即不是lastPrice 只要在output里改即可<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Output(&apos;priceChange&apos;)</span><br></pre></td></tr></table></figure></p>\n<p>但是这样有感觉很麻烦，能不能用<strong>双向绑定</strong></p>\n<p>还有注意 如果一个属性想用双向绑定 那么如果输入属性为rating ，并且想在标签上<figure class=\"highlight plain\"><figcaption><span>名称必须为```ratingChange```  ，加个Change</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br><span class=\"line\">@Output()</span><br><span class=\"line\">private ratingChange: EventEmitter&lt;number&gt; = new EventEmitter();</span><br></pre></td></tr></table></figure></p>\n<p>####管道<br>普通应用，这个使用可以去查官网<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;&#123;&#123;birthday | date : &apos;yyyy-MM-dd HH:mm:ss&apos;&#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">&lt;p&gt;&#123;&#123;pi | number: &apos;2.2-4&apos;&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>\n<p>自定义管道需命令行生成 <figure class=\"highlight plain\"><figcaption><span>g pipe name```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">管道和组件一样需申明在NgModule里</span><br></pre></td></tr></table></figure></p>\n<p>declarations: [<br>FilterPipe<br>],<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">自定义管道</span><br></pre></td></tr></table></figure></p>\n<p>import { Pipe, PipeTransform } from ‘@angular/core’;<br>@Pipe({<br>name: ‘filter’<br>})<br>export class FilterPipe implements PipeTransform {<br>transform(list: any[], filterField: string, keyword: string): any {<br>if (!filterField || !keyword) {<br>return list;<br>}<br>return list.filter( item =&gt; {<br>let fieldVaule = item[filterField];<br>return fieldVaule.indexOf(keyword) &gt;= 0;<br>});<br>}<br>}<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">####如何在父组件中调用子组件的方法</span><br><span class=\"line\">子组件就一个gretting的方法</span><br></pre></td></tr></table></figure></p>\n<p>父组件html代码</p>\n<p><app-children #child1=\"\"></app-children></p>\n<p><app-children #child2=\"\"></app-children></p>\n<p><button (click)=\"child2.gretting('jsex')\">hahah1</button><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">父组件ts代码</span><br></pre></td></tr></table></figure></p>\n<p>import { Component, OnInit, ViewChild} from ‘@angular/core’;<br>import {ChildrenComponent} from ‘./children/children.component’;</p>\n<p>@Component({<br>selector: ‘app-root’,<br>templateUrl: ‘./app.component.html’,<br>styleUrls: [‘./app.component.css’]<br>})<br>export class AppComponent implements OnInit,{<br>@ViewChild(‘child1’)<br>child1: ChildrenComponent;<br>greeting: string = ‘heelo’;<br>ngOnInit(): void {<br>this.child1.gretting(this.greeting);<br>}<br>}<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">1.在ts中调用子组件方法</span><br><span class=\"line\">html里</span><br></pre></td></tr></table></figure></p>\n<p><app-children #child1=\"\"></app-children><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ts里</span><br></pre></td></tr></table></figure></p>\n<p>@ViewChild(‘child1’)<br>child1: ChildrenComponent;<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">父组件ts任意地方就可以</span><br></pre></td></tr></table></figure></p>\n<p>this.child1.gretting(this.greeting);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">2.在html里调用子组件api</span><br></pre></td></tr></table></figure></p>\n<p><app-children #child2=\"\"></app-children></p>\n<p><button (click)=\"child2.gretting('jsex')\">hahah</button><br>```</p>\n","site":{"data":{}},"excerpt":"","more":"<p>####组件间通讯<br>1.组件间通讯 。<br>父组件向子组件输入属性用<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-order [stockCode]=&quot;stock&quot; [amount]=&quot;100&quot;&gt;&lt;/app-order&gt;</span><br></pre></td></tr></table></figure></p>\n<p>子组件声明接收父组件的属性@input()注解<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Input()</span><br><span class=\"line\">amount: number;</span><br></pre></td></tr></table></figure></p>\n<p>2.组件输出属性</p>\n<p>1.在发射的组件内部定义发射的EventEmitter对象<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Output()</span><br><span class=\"line\">lastPrice: EventEmitter&lt;PriceQuote&gt; = new EventEmitter();</span><br></pre></td></tr></table></figure></p>\n<p>2.在发射组件里 将要发射的变量发射出去 ，注意类型必须和定义里的泛型一致<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">let pq = new PriceQuote(this.stockCode, Math.random() * 100);</span><br><span class=\"line\">this.lastPrice.emit(pq);</span><br></pre></td></tr></table></figure></p>\n<p>3.在发射组件标签声明的地方加上监听该emitEvent对象传过来的事件<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-price-quote (lastPrice)=&quot;priceQuoteHandler($event)&quot;&gt;&lt;/app-price-quote&gt;</span><br></pre></td></tr></table></figure></p>\n<p>然后父组件里就可以写，事件就是发射过来的值<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">priceQuoteHandler(priceQuote) &#123;</span><br><span class=\"line\">this.priceQuote = priceQuote;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>注意想监听事件的名字即不是lastPrice 只要在output里改即可<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@Output(&apos;priceChange&apos;)</span><br></pre></td></tr></table></figure></p>\n<p>但是这样有感觉很麻烦，能不能用<strong>双向绑定</strong></p>\n<p>还有注意 如果一个属性想用双向绑定 那么如果输入属性为rating ，并且想在标签上<figure class=\"highlight plain\"><figcaption><span>名称必须为```ratingChange```  ，加个Change</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">```</span><br><span class=\"line\">@Output()</span><br><span class=\"line\">private ratingChange: EventEmitter&lt;number&gt; = new EventEmitter();</span><br></pre></td></tr></table></figure></p>\n<p>####管道<br>普通应用，这个使用可以去查官网<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;p&gt;&#123;&#123;birthday | date : &apos;yyyy-MM-dd HH:mm:ss&apos;&#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">&lt;p&gt;&#123;&#123;pi | number: &apos;2.2-4&apos;&#125;&#125;&lt;/p&gt;</span><br></pre></td></tr></table></figure></p>\n<p>自定义管道需命令行生成 <figure class=\"highlight plain\"><figcaption><span>g pipe name```</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">管道和组件一样需申明在NgModule里</span><br></pre></td></tr></table></figure></p>\n<p>declarations: [<br>FilterPipe<br>],<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">自定义管道</span><br></pre></td></tr></table></figure></p>\n<p>import { Pipe, PipeTransform } from ‘@angular/core’;<br>@Pipe({<br>name: ‘filter’<br>})<br>export class FilterPipe implements PipeTransform {<br>transform(list: any[], filterField: string, keyword: string): any {<br>if (!filterField || !keyword) {<br>return list;<br>}<br>return list.filter( item =&gt; {<br>let fieldVaule = item[filterField];<br>return fieldVaule.indexOf(keyword) &gt;= 0;<br>});<br>}<br>}<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">####如何在父组件中调用子组件的方法</span><br><span class=\"line\">子组件就一个gretting的方法</span><br></pre></td></tr></table></figure></p>\n<p>父组件html代码</p>\n<p><app-children #child1=\"\"></app-children></p>\n<p><app-children #child2=\"\"></app-children></p>\n<p><button (click)=\"child2.gretting('jsex')\">hahah1</button><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">父组件ts代码</span><br></pre></td></tr></table></figure></p>\n<p>import { Component, OnInit, ViewChild} from ‘@angular/core’;<br>import {ChildrenComponent} from ‘./children/children.component’;</p>\n<p>@Component({<br>selector: ‘app-root’,<br>templateUrl: ‘./app.component.html’,<br>styleUrls: [‘./app.component.css’]<br>})<br>export class AppComponent implements OnInit,{<br>@ViewChild(‘child1’)<br>child1: ChildrenComponent;<br>greeting: string = ‘heelo’;<br>ngOnInit(): void {<br>this.child1.gretting(this.greeting);<br>}<br>}<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">1.在ts中调用子组件方法</span><br><span class=\"line\">html里</span><br></pre></td></tr></table></figure></p>\n<p><app-children #child1=\"\"></app-children><br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ts里</span><br></pre></td></tr></table></figure></p>\n<p>@ViewChild(‘child1’)<br>child1: ChildrenComponent;<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">父组件ts任意地方就可以</span><br></pre></td></tr></table></figure></p>\n<p>this.child1.gretting(this.greeting);<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">2.在html里调用子组件api</span><br></pre></td></tr></table></figure></p>\n<p><app-children #child2=\"\"></app-children></p>\n<p><button (click)=\"child2.gretting('jsex')\">hahah</button><br>```</p>\n"},{"title":"ionic webview in native(android)","date":"2018-11-25T06:05:43.000Z","_content":"其实开发了这么久，webview的优点很多，热更新、跨平台开发、易维护。但是局限性也很大，一些原生的功能还是用原生插件最好。webview webview，功能只是web 用来 view 的。把网页当作native 里的一个模块或插件最好。好久没更新blog了，更新一波让自己记住。\n把ionic 部署到android原生应用里面\n```\nMainActivity\npublic class MainActivity extends AppCompatActivity {\n    private  View cv;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        cv = getWindow().getDecorView();\n        findViewById(R.id.ionic).setOnClickListener(cordovaViewClickListener);\n    }\n\n    private View.OnClickListener cordovaViewClickListener=new View.OnClickListener() {\n        @Override\n        public void onClick(View v){\n            startCordovaActivity(cv);\n        }\n    };\n\n    public void startCordovaActivity(View view) {\n        // 项目用的方式\n        //Intent intent = new Intent(this, TestCordovaActivity.class);\n        //ionic 现在应用的方式\n        Intent intent = new Intent(this, IonicActivity.class);\n        startActivity(intent);\n    }\n}\n```\n看看ionic 如何嵌套webview的，activity无需xml\n```\npublic class IonicActivity extends CordovaActivity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n\n        // enable Cordova apps to be started in the background\n        Bundle extras = getIntent().getExtras();\n        if (extras != null && extras.getBoolean(\"cdvStartInBackground\", false)) {\n            moveTaskToBack(true);\n        }\n\n        // Set by <content src=\"index.html\" /> in config.xml\n        loadUrl(\"file:///android_asset/ionic/index.html\");\n    }\n\n}\n```\n我们项目组嵌套native的方式，效果上和是一样的\n```\npublic class TestCordovaActivity extends Activity {\n\n    SystemWebView webView;\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.content_frame);\n        initCordovaWebView();\n    }\n\n    public CordovaInterfaceImpl cordovaInterface;\n    private CordovaWebView cordovaWebView;\n    public final ArrayBlockingQueue<String> onPageFinishedUrl = new ArrayBlockingQueue<String>(5);\n    public void initCordovaWebView() {\n        cordovaInterface = new CordovaInterfaceImpl(this) {\n            @Override\n            public Object onMessage(String id, Object data) {\n                if (\"onPageFinished\".equals(id)) {\n                    onPageFinishedUrl.add((String) data);\n                }\n                return super.onMessage(id, data);\n            }\n        };\n        ConfigXmlParser parser = new ConfigXmlParser();\n        parser.parse(this);\n        webView = (SystemWebView) findViewById(R.id.aiCordovaWebView);\n        SystemWebViewEngine systemWebViewEngine = new SystemWebViewEngine(webView);\n        //允许JavaScript执行\n        webView.getSettings().setJavaScriptEnabled(true);\n        this.cordovaWebView = new CordovaWebViewImpl(systemWebViewEngine);\n        this.cordovaWebView.init(this.cordovaInterface, parser.getPluginEntries(), parser.getPreferences());\n        this.cordovaWebView.loadUrl(\"file:///android_asset/ionic/index.html\");\n\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        this.cordovaInterface.onActivityResult(requestCode, resultCode, intent);\n    }\n\n}\n```\n对应的xml\n```\n<org.apache.cordova.engine.SystemWebView\n        android:id=\"@+id/aiCordovaWebView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" />\n```\n上面就是主要代码，至于其他的步骤，网上其他blog 都有，现在有一个native的应用，还有一个ionic build 出来的android 项目\n1.  把www文件夹放在android assets 资源目录下，我改名叫ionic 文件夹了\n2.  src/main/res/xml 里面的config.xml 文件要从ionic build的android项目里挪过来，这个文件很重要，里面有各种cordova插件所用的java依赖配置,使用command或者ctrl 点击某一项看能不能跳到java文件，不然找不到项目是会报错的。 \n3.  AndroidManifest.xml 里面还要加各种各样的权限，同理挪过来，其中有几个注意的地方\n```\n<!-- android网络请求权限 -->\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n <!-- 这个特别重要！！！！！！不然可能相机不能用 -->\n        <provider\n            android:name=\"android.support.v4.content.FileProvider\"\n            android:authorities=\"${applicationId}.provider\"\n            android:exported=\"false\"\n            android:grantUriPermissions=\"true\">\n            <meta-data\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n                android:resource=\"@xml/provider_paths\" />\n        </provider>\n```\n还有就是 cordova 的sqllite plugin，如果用到了注意把它的2个jar包放进项目依赖里面，sqlite-connector.jar、sqlite-native-driver.jar 别漏了，不然可能会遇到奇怪的报错，当时还是在 stackflow 才知道什么情况\n4. 最后一点别忘记，把cordova的jar包以及cordova插件的jar包或者模块拷过来。\n5. 直接用android studio 跑起来看一下吧\n","source":"_posts/ionic-webview-in-native-android.md","raw":"---\ntitle: ionic webview in native(android)\ndate: 2018-11-25 14:05:43\ncategories:\n- ionic\ntags:\n- webview\n---\n其实开发了这么久，webview的优点很多，热更新、跨平台开发、易维护。但是局限性也很大，一些原生的功能还是用原生插件最好。webview webview，功能只是web 用来 view 的。把网页当作native 里的一个模块或插件最好。好久没更新blog了，更新一波让自己记住。\n把ionic 部署到android原生应用里面\n```\nMainActivity\npublic class MainActivity extends AppCompatActivity {\n    private  View cv;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        cv = getWindow().getDecorView();\n        findViewById(R.id.ionic).setOnClickListener(cordovaViewClickListener);\n    }\n\n    private View.OnClickListener cordovaViewClickListener=new View.OnClickListener() {\n        @Override\n        public void onClick(View v){\n            startCordovaActivity(cv);\n        }\n    };\n\n    public void startCordovaActivity(View view) {\n        // 项目用的方式\n        //Intent intent = new Intent(this, TestCordovaActivity.class);\n        //ionic 现在应用的方式\n        Intent intent = new Intent(this, IonicActivity.class);\n        startActivity(intent);\n    }\n}\n```\n看看ionic 如何嵌套webview的，activity无需xml\n```\npublic class IonicActivity extends CordovaActivity {\n\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n\n        // enable Cordova apps to be started in the background\n        Bundle extras = getIntent().getExtras();\n        if (extras != null && extras.getBoolean(\"cdvStartInBackground\", false)) {\n            moveTaskToBack(true);\n        }\n\n        // Set by <content src=\"index.html\" /> in config.xml\n        loadUrl(\"file:///android_asset/ionic/index.html\");\n    }\n\n}\n```\n我们项目组嵌套native的方式，效果上和是一样的\n```\npublic class TestCordovaActivity extends Activity {\n\n    SystemWebView webView;\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.content_frame);\n        initCordovaWebView();\n    }\n\n    public CordovaInterfaceImpl cordovaInterface;\n    private CordovaWebView cordovaWebView;\n    public final ArrayBlockingQueue<String> onPageFinishedUrl = new ArrayBlockingQueue<String>(5);\n    public void initCordovaWebView() {\n        cordovaInterface = new CordovaInterfaceImpl(this) {\n            @Override\n            public Object onMessage(String id, Object data) {\n                if (\"onPageFinished\".equals(id)) {\n                    onPageFinishedUrl.add((String) data);\n                }\n                return super.onMessage(id, data);\n            }\n        };\n        ConfigXmlParser parser = new ConfigXmlParser();\n        parser.parse(this);\n        webView = (SystemWebView) findViewById(R.id.aiCordovaWebView);\n        SystemWebViewEngine systemWebViewEngine = new SystemWebViewEngine(webView);\n        //允许JavaScript执行\n        webView.getSettings().setJavaScriptEnabled(true);\n        this.cordovaWebView = new CordovaWebViewImpl(systemWebViewEngine);\n        this.cordovaWebView.init(this.cordovaInterface, parser.getPluginEntries(), parser.getPreferences());\n        this.cordovaWebView.loadUrl(\"file:///android_asset/ionic/index.html\");\n\n    }\n\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent intent) {\n        super.onActivityResult(requestCode, resultCode, intent);\n        this.cordovaInterface.onActivityResult(requestCode, resultCode, intent);\n    }\n\n}\n```\n对应的xml\n```\n<org.apache.cordova.engine.SystemWebView\n        android:id=\"@+id/aiCordovaWebView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" />\n```\n上面就是主要代码，至于其他的步骤，网上其他blog 都有，现在有一个native的应用，还有一个ionic build 出来的android 项目\n1.  把www文件夹放在android assets 资源目录下，我改名叫ionic 文件夹了\n2.  src/main/res/xml 里面的config.xml 文件要从ionic build的android项目里挪过来，这个文件很重要，里面有各种cordova插件所用的java依赖配置,使用command或者ctrl 点击某一项看能不能跳到java文件，不然找不到项目是会报错的。 \n3.  AndroidManifest.xml 里面还要加各种各样的权限，同理挪过来，其中有几个注意的地方\n```\n<!-- android网络请求权限 -->\n    <uses-permission android:name=\"android.permission.INTERNET\" />\n <!-- 这个特别重要！！！！！！不然可能相机不能用 -->\n        <provider\n            android:name=\"android.support.v4.content.FileProvider\"\n            android:authorities=\"${applicationId}.provider\"\n            android:exported=\"false\"\n            android:grantUriPermissions=\"true\">\n            <meta-data\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\n                android:resource=\"@xml/provider_paths\" />\n        </provider>\n```\n还有就是 cordova 的sqllite plugin，如果用到了注意把它的2个jar包放进项目依赖里面，sqlite-connector.jar、sqlite-native-driver.jar 别漏了，不然可能会遇到奇怪的报错，当时还是在 stackflow 才知道什么情况\n4. 最后一点别忘记，把cordova的jar包以及cordova插件的jar包或者模块拷过来。\n5. 直接用android studio 跑起来看一下吧\n","slug":"ionic-webview-in-native-android","published":1,"updated":"2018-11-25T10:27:08.081Z","_id":"cjowjcoxf0000ceaam8bkz6g2","comments":1,"layout":"post","photos":[],"link":"","content":"<p>其实开发了这么久，webview的优点很多，热更新、跨平台开发、易维护。但是局限性也很大，一些原生的功能还是用原生插件最好。webview webview，功能只是web 用来 view 的。把网页当作native 里的一个模块或插件最好。好久没更新blog了，更新一波让自己记住。<br>把ionic 部署到android原生应用里面<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MainActivity</span><br><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\">    private  View cv;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        cv = getWindow().getDecorView();</span><br><span class=\"line\">        findViewById(R.id.ionic).setOnClickListener(cordovaViewClickListener);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    private View.OnClickListener cordovaViewClickListener=new View.OnClickListener() &#123;</span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public void onClick(View v)&#123;</span><br><span class=\"line\">            startCordovaActivity(cv);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    public void startCordovaActivity(View view) &#123;</span><br><span class=\"line\">        // 项目用的方式</span><br><span class=\"line\">        //Intent intent = new Intent(this, TestCordovaActivity.class);</span><br><span class=\"line\">        //ionic 现在应用的方式</span><br><span class=\"line\">        Intent intent = new Intent(this, IonicActivity.class);</span><br><span class=\"line\">        startActivity(intent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>看看ionic 如何嵌套webview的，activity无需xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class IonicActivity extends CordovaActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onCreate(Bundle savedInstanceState)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\"></span><br><span class=\"line\">        // enable Cordova apps to be started in the background</span><br><span class=\"line\">        Bundle extras = getIntent().getExtras();</span><br><span class=\"line\">        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) &#123;</span><br><span class=\"line\">            moveTaskToBack(true);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        // Set by &lt;content src=&quot;index.html&quot; /&gt; in config.xml</span><br><span class=\"line\">        loadUrl(&quot;file:///android_asset/ionic/index.html&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>我们项目组嵌套native的方式，效果上和是一样的<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class TestCordovaActivity extends Activity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    SystemWebView webView;</span><br><span class=\"line\">    public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.content_frame);</span><br><span class=\"line\">        initCordovaWebView();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public CordovaInterfaceImpl cordovaInterface;</span><br><span class=\"line\">    private CordovaWebView cordovaWebView;</span><br><span class=\"line\">    public final ArrayBlockingQueue&lt;String&gt; onPageFinishedUrl = new ArrayBlockingQueue&lt;String&gt;(5);</span><br><span class=\"line\">    public void initCordovaWebView() &#123;</span><br><span class=\"line\">        cordovaInterface = new CordovaInterfaceImpl(this) &#123;</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public Object onMessage(String id, Object data) &#123;</span><br><span class=\"line\">                if (&quot;onPageFinished&quot;.equals(id)) &#123;</span><br><span class=\"line\">                    onPageFinishedUrl.add((String) data);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                return super.onMessage(id, data);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        ConfigXmlParser parser = new ConfigXmlParser();</span><br><span class=\"line\">        parser.parse(this);</span><br><span class=\"line\">        webView = (SystemWebView) findViewById(R.id.aiCordovaWebView);</span><br><span class=\"line\">        SystemWebViewEngine systemWebViewEngine = new SystemWebViewEngine(webView);</span><br><span class=\"line\">        //允许JavaScript执行</span><br><span class=\"line\">        webView.getSettings().setJavaScriptEnabled(true);</span><br><span class=\"line\">        this.cordovaWebView = new CordovaWebViewImpl(systemWebViewEngine);</span><br><span class=\"line\">        this.cordovaWebView.init(this.cordovaInterface, parser.getPluginEntries(), parser.getPreferences());</span><br><span class=\"line\">        this.cordovaWebView.loadUrl(&quot;file:///android_asset/ionic/index.html&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onActivityResult(int requestCode, int resultCode, Intent intent) &#123;</span><br><span class=\"line\">        super.onActivityResult(requestCode, resultCode, intent);</span><br><span class=\"line\">        this.cordovaInterface.onActivityResult(requestCode, resultCode, intent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>对应的xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;org.apache.cordova.engine.SystemWebView</span><br><span class=\"line\">        android:id=&quot;@+id/aiCordovaWebView&quot;</span><br><span class=\"line\">        android:layout_width=&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height=&quot;match_parent&quot; /&gt;</span><br></pre></td></tr></table></figure></p>\n<p>上面就是主要代码，至于其他的步骤，网上其他blog 都有，现在有一个native的应用，还有一个ionic build 出来的android 项目</p>\n<ol>\n<li>把www文件夹放在android assets 资源目录下，我改名叫ionic 文件夹了</li>\n<li>src/main/res/xml 里面的config.xml 文件要从ionic build的android项目里挪过来，这个文件很重要，里面有各种cordova插件所用的java依赖配置,使用command或者ctrl 点击某一项看能不能跳到java文件，不然找不到项目是会报错的。 </li>\n<li>AndroidManifest.xml 里面还要加各种各样的权限，同理挪过来，其中有几个注意的地方<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- android网络请求权限 --&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</span><br><span class=\"line\"> &lt;!-- 这个特别重要！！！！！！不然可能相机不能用 --&gt;</span><br><span class=\"line\">        &lt;provider</span><br><span class=\"line\">            android:name=&quot;android.support.v4.content.FileProvider&quot;</span><br><span class=\"line\">            android:authorities=&quot;$&#123;applicationId&#125;.provider&quot;</span><br><span class=\"line\">            android:exported=&quot;false&quot;</span><br><span class=\"line\">            android:grantUriPermissions=&quot;true&quot;&gt;</span><br><span class=\"line\">            &lt;meta-data</span><br><span class=\"line\">                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;</span><br><span class=\"line\">                android:resource=&quot;@xml/provider_paths&quot; /&gt;</span><br><span class=\"line\">        &lt;/provider&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>还有就是 cordova 的sqllite plugin，如果用到了注意把它的2个jar包放进项目依赖里面，sqlite-connector.jar、sqlite-native-driver.jar 别漏了，不然可能会遇到奇怪的报错，当时还是在 stackflow 才知道什么情况</p>\n<ol>\n<li>最后一点别忘记，把cordova的jar包以及cordova插件的jar包或者模块拷过来。</li>\n<li>直接用android studio 跑起来看一下吧</li>\n</ol>\n","site":{"data":{}},"excerpt":"","more":"<p>其实开发了这么久，webview的优点很多，热更新、跨平台开发、易维护。但是局限性也很大，一些原生的功能还是用原生插件最好。webview webview，功能只是web 用来 view 的。把网页当作native 里的一个模块或插件最好。好久没更新blog了，更新一波让自己记住。<br>把ionic 部署到android原生应用里面<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MainActivity</span><br><span class=\"line\">public class MainActivity extends AppCompatActivity &#123;</span><br><span class=\"line\">    private  View cv;</span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.activity_main);</span><br><span class=\"line\">        cv = getWindow().getDecorView();</span><br><span class=\"line\">        findViewById(R.id.ionic).setOnClickListener(cordovaViewClickListener);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    private View.OnClickListener cordovaViewClickListener=new View.OnClickListener() &#123;</span><br><span class=\"line\">        @Override</span><br><span class=\"line\">        public void onClick(View v)&#123;</span><br><span class=\"line\">            startCordovaActivity(cv);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">    public void startCordovaActivity(View view) &#123;</span><br><span class=\"line\">        // 项目用的方式</span><br><span class=\"line\">        //Intent intent = new Intent(this, TestCordovaActivity.class);</span><br><span class=\"line\">        //ionic 现在应用的方式</span><br><span class=\"line\">        Intent intent = new Intent(this, IonicActivity.class);</span><br><span class=\"line\">        startActivity(intent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>看看ionic 如何嵌套webview的，activity无需xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class IonicActivity extends CordovaActivity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onCreate(Bundle savedInstanceState)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\"></span><br><span class=\"line\">        // enable Cordova apps to be started in the background</span><br><span class=\"line\">        Bundle extras = getIntent().getExtras();</span><br><span class=\"line\">        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) &#123;</span><br><span class=\"line\">            moveTaskToBack(true);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        // Set by &lt;content src=&quot;index.html&quot; /&gt; in config.xml</span><br><span class=\"line\">        loadUrl(&quot;file:///android_asset/ionic/index.html&quot;);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>我们项目组嵌套native的方式，效果上和是一样的<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public class TestCordovaActivity extends Activity &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    SystemWebView webView;</span><br><span class=\"line\">    public void onCreate(Bundle savedInstanceState) &#123;</span><br><span class=\"line\">        super.onCreate(savedInstanceState);</span><br><span class=\"line\">        setContentView(R.layout.content_frame);</span><br><span class=\"line\">        initCordovaWebView();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public CordovaInterfaceImpl cordovaInterface;</span><br><span class=\"line\">    private CordovaWebView cordovaWebView;</span><br><span class=\"line\">    public final ArrayBlockingQueue&lt;String&gt; onPageFinishedUrl = new ArrayBlockingQueue&lt;String&gt;(5);</span><br><span class=\"line\">    public void initCordovaWebView() &#123;</span><br><span class=\"line\">        cordovaInterface = new CordovaInterfaceImpl(this) &#123;</span><br><span class=\"line\">            @Override</span><br><span class=\"line\">            public Object onMessage(String id, Object data) &#123;</span><br><span class=\"line\">                if (&quot;onPageFinished&quot;.equals(id)) &#123;</span><br><span class=\"line\">                    onPageFinishedUrl.add((String) data);</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">                return super.onMessage(id, data);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;;</span><br><span class=\"line\">        ConfigXmlParser parser = new ConfigXmlParser();</span><br><span class=\"line\">        parser.parse(this);</span><br><span class=\"line\">        webView = (SystemWebView) findViewById(R.id.aiCordovaWebView);</span><br><span class=\"line\">        SystemWebViewEngine systemWebViewEngine = new SystemWebViewEngine(webView);</span><br><span class=\"line\">        //允许JavaScript执行</span><br><span class=\"line\">        webView.getSettings().setJavaScriptEnabled(true);</span><br><span class=\"line\">        this.cordovaWebView = new CordovaWebViewImpl(systemWebViewEngine);</span><br><span class=\"line\">        this.cordovaWebView.init(this.cordovaInterface, parser.getPluginEntries(), parser.getPreferences());</span><br><span class=\"line\">        this.cordovaWebView.loadUrl(&quot;file:///android_asset/ionic/index.html&quot;);</span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    @Override</span><br><span class=\"line\">    public void onActivityResult(int requestCode, int resultCode, Intent intent) &#123;</span><br><span class=\"line\">        super.onActivityResult(requestCode, resultCode, intent);</span><br><span class=\"line\">        this.cordovaInterface.onActivityResult(requestCode, resultCode, intent);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<p>对应的xml<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;org.apache.cordova.engine.SystemWebView</span><br><span class=\"line\">        android:id=&quot;@+id/aiCordovaWebView&quot;</span><br><span class=\"line\">        android:layout_width=&quot;match_parent&quot;</span><br><span class=\"line\">        android:layout_height=&quot;match_parent&quot; /&gt;</span><br></pre></td></tr></table></figure></p>\n<p>上面就是主要代码，至于其他的步骤，网上其他blog 都有，现在有一个native的应用，还有一个ionic build 出来的android 项目</p>\n<ol>\n<li>把www文件夹放在android assets 资源目录下，我改名叫ionic 文件夹了</li>\n<li>src/main/res/xml 里面的config.xml 文件要从ionic build的android项目里挪过来，这个文件很重要，里面有各种cordova插件所用的java依赖配置,使用command或者ctrl 点击某一项看能不能跳到java文件，不然找不到项目是会报错的。 </li>\n<li>AndroidManifest.xml 里面还要加各种各样的权限，同理挪过来，其中有几个注意的地方<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- android网络请求权限 --&gt;</span><br><span class=\"line\">    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</span><br><span class=\"line\"> &lt;!-- 这个特别重要！！！！！！不然可能相机不能用 --&gt;</span><br><span class=\"line\">        &lt;provider</span><br><span class=\"line\">            android:name=&quot;android.support.v4.content.FileProvider&quot;</span><br><span class=\"line\">            android:authorities=&quot;$&#123;applicationId&#125;.provider&quot;</span><br><span class=\"line\">            android:exported=&quot;false&quot;</span><br><span class=\"line\">            android:grantUriPermissions=&quot;true&quot;&gt;</span><br><span class=\"line\">            &lt;meta-data</span><br><span class=\"line\">                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;</span><br><span class=\"line\">                android:resource=&quot;@xml/provider_paths&quot; /&gt;</span><br><span class=\"line\">        &lt;/provider&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>还有就是 cordova 的sqllite plugin，如果用到了注意把它的2个jar包放进项目依赖里面，sqlite-connector.jar、sqlite-native-driver.jar 别漏了，不然可能会遇到奇怪的报错，当时还是在 stackflow 才知道什么情况</p>\n<ol>\n<li>最后一点别忘记，把cordova的jar包以及cordova插件的jar包或者模块拷过来。</li>\n<li>直接用android studio 跑起来看一下吧</li>\n</ol>\n"},{"title":"ionic3 热更新android篇","date":"2018-03-18T04:35:00.000Z","_content":"这热更新简直了，其实看网上配来配去就这几步，但自己一配就立马遇上很多问题，主要还是细节方面处理不够到位。索性自己也开一篇，防止自己忘了。\n\n1. 进入自己的ionic项目根目录下 启动 ionic服务  ``ionic serve``\n\n2. 安装ionic native 热更新插件\n```\nionic cordova plugin add cordova-hot-code-push-plugin\nionic cordova plugin add cordova-hot-code-push-local-dev-addon\nnpm install -g cordova-hot-code-push-cli\n```\n当然了还要确保自己已经安装了android平台（没安装可以执行 ``ionic cordova platform add android``）\n\n3. 在config.xml配置文件中加入下面节点\n```\n<chcp>\n<config-file url=\"http://192.168.1.76:8121/chcp.json\" />\n<native-interface version=\"1\" />\n</chcp>\n```\n上面那个地址是你远程服务器存放www文件夹路径的地址 ，当然我这个地址http://192.168.1.76:8121是通过http-server -p 8121 在www目录下开服务拿的地址。是本地的一个服务。\n\n4. 热更新服务开启 ``cordova-hcp server ``  还有如果运行命令正常www目录下会有 有chcp.json和chcp.manifest文件出现。到这一步你就知道为什么第三步要配这个地址了。\n\n5. 在项目根目录下新建模板 cordova-hcp.json\n```\n{\n\"content_url\": \"http://192.168.1.76:8121\",\n\"autogenerated\": true,\n\"update\": \"now\"\n}\n```\n这一步配置完后急的访问下，\nhttp://192.168.1.76:8121 访问的是ionic项目的首页\nhttp://192.168.1.76:8121/chcp.json 也要能访问到\n\n6.  以后发布执行``cordova-hcp build``命令，就可以把模板内容替换到chcp.json文件内，因为每次更新或者发布app都会使热更新服务重新生成chcp.json文件内容\n值得注意的是，这条命令一运行，热更新服务的运行窗口也会报相应的日志\n![Screenshot 2018-02-16_20-10-53.png](http://upload-images.jianshu.io/upload_images/6114493-0386c299e9515172.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n可见这条命令不仅生成chcp.json内容这么简单。然后再说我发现的一个问题，执行ionic serve 就会chcp.json又改回原来的了，所以打包build的时候要小心一点。\n\n7. build安卓包 ```ionic cordova build android```\n到这一步，编译完android包以后记得再看一下配置，这回要看app里面的。\n![Screenshot 2018-02-16_20-17-13.png](http://upload-images.jianshu.io/upload_images/6114493-11068a510e2fbf35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n别又是什么ngrok内网穿透的地址，这就不好玩了，不对的话，把www里面的chcp.json内容复制过来替换一下。\n\n8.最后一步就直接打开安装好的app了，改一下html内容,用``ionic serve`` 编译一下，把app关掉重新开一下，就可以看到热更新改的东西了。\n注意：我这边测试热更新是用模拟器的，用真的小伙伴注意下你的地址是不是手机可以访问哦！\n\n","source":"_posts/ionic3-热更新android篇.md","raw":"---\ntitle: ionic3 热更新android篇\ndate: 2018-03-18 12:35:00\ncategories:\n- ionic\ntags:\n- hot codePush\n---\n这热更新简直了，其实看网上配来配去就这几步，但自己一配就立马遇上很多问题，主要还是细节方面处理不够到位。索性自己也开一篇，防止自己忘了。\n\n1. 进入自己的ionic项目根目录下 启动 ionic服务  ``ionic serve``\n\n2. 安装ionic native 热更新插件\n```\nionic cordova plugin add cordova-hot-code-push-plugin\nionic cordova plugin add cordova-hot-code-push-local-dev-addon\nnpm install -g cordova-hot-code-push-cli\n```\n当然了还要确保自己已经安装了android平台（没安装可以执行 ``ionic cordova platform add android``）\n\n3. 在config.xml配置文件中加入下面节点\n```\n<chcp>\n<config-file url=\"http://192.168.1.76:8121/chcp.json\" />\n<native-interface version=\"1\" />\n</chcp>\n```\n上面那个地址是你远程服务器存放www文件夹路径的地址 ，当然我这个地址http://192.168.1.76:8121是通过http-server -p 8121 在www目录下开服务拿的地址。是本地的一个服务。\n\n4. 热更新服务开启 ``cordova-hcp server ``  还有如果运行命令正常www目录下会有 有chcp.json和chcp.manifest文件出现。到这一步你就知道为什么第三步要配这个地址了。\n\n5. 在项目根目录下新建模板 cordova-hcp.json\n```\n{\n\"content_url\": \"http://192.168.1.76:8121\",\n\"autogenerated\": true,\n\"update\": \"now\"\n}\n```\n这一步配置完后急的访问下，\nhttp://192.168.1.76:8121 访问的是ionic项目的首页\nhttp://192.168.1.76:8121/chcp.json 也要能访问到\n\n6.  以后发布执行``cordova-hcp build``命令，就可以把模板内容替换到chcp.json文件内，因为每次更新或者发布app都会使热更新服务重新生成chcp.json文件内容\n值得注意的是，这条命令一运行，热更新服务的运行窗口也会报相应的日志\n![Screenshot 2018-02-16_20-10-53.png](http://upload-images.jianshu.io/upload_images/6114493-0386c299e9515172.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n可见这条命令不仅生成chcp.json内容这么简单。然后再说我发现的一个问题，执行ionic serve 就会chcp.json又改回原来的了，所以打包build的时候要小心一点。\n\n7. build安卓包 ```ionic cordova build android```\n到这一步，编译完android包以后记得再看一下配置，这回要看app里面的。\n![Screenshot 2018-02-16_20-17-13.png](http://upload-images.jianshu.io/upload_images/6114493-11068a510e2fbf35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n别又是什么ngrok内网穿透的地址，这就不好玩了，不对的话，把www里面的chcp.json内容复制过来替换一下。\n\n8.最后一步就直接打开安装好的app了，改一下html内容,用``ionic serve`` 编译一下，把app关掉重新开一下，就可以看到热更新改的东西了。\n注意：我这边测试热更新是用模拟器的，用真的小伙伴注意下你的地址是不是手机可以访问哦！\n\n","slug":"ionic3-热更新android篇","published":1,"updated":"2018-11-25T10:26:14.986Z","_id":"cjowjcw340000cfaapwjlwlpf","comments":1,"layout":"post","photos":[],"link":"","content":"<p>这热更新简直了，其实看网上配来配去就这几步，但自己一配就立马遇上很多问题，主要还是细节方面处理不够到位。索性自己也开一篇，防止自己忘了。</p>\n<ol>\n<li><p>进入自己的ionic项目根目录下 启动 ionic服务  <code>ionic serve</code></p>\n</li>\n<li><p>安装ionic native 热更新插件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova plugin add cordova-hot-code-push-plugin</span><br><span class=\"line\">ionic cordova plugin add cordova-hot-code-push-local-dev-addon</span><br><span class=\"line\">npm install -g cordova-hot-code-push-cli</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>当然了还要确保自己已经安装了android平台（没安装可以执行 <code>ionic cordova platform add android</code>）</p>\n<ol>\n<li>在config.xml配置文件中加入下面节点<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;chcp&gt;</span><br><span class=\"line\">&lt;config-file url=&quot;http://192.168.1.76:8121/chcp.json&quot; /&gt;</span><br><span class=\"line\">&lt;native-interface version=&quot;1&quot; /&gt;</span><br><span class=\"line\">&lt;/chcp&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>上面那个地址是你远程服务器存放www文件夹路径的地址 ，当然我这个地址<a href=\"http://192.168.1.76:8121是通过http-server\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121是通过http-server</a> -p 8121 在www目录下开服务拿的地址。是本地的一个服务。</p>\n<ol>\n<li><p>热更新服务开启 <code>cordova-hcp server</code>  还有如果运行命令正常www目录下会有 有chcp.json和chcp.manifest文件出现。到这一步你就知道为什么第三步要配这个地址了。</p>\n</li>\n<li><p>在项目根目录下新建模板 cordova-hcp.json</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;content_url&quot;: &quot;http://192.168.1.76:8121&quot;,</span><br><span class=\"line\">&quot;autogenerated&quot;: true,</span><br><span class=\"line\">&quot;update&quot;: &quot;now&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>这一步配置完后急的访问下，<br><a href=\"http://192.168.1.76:8121\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121</a> 访问的是ionic项目的首页<br><a href=\"http://192.168.1.76:8121/chcp.json\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121/chcp.json</a> 也要能访问到</p>\n<ol>\n<li>以后发布执行<code>cordova-hcp build</code>命令，就可以把模板内容替换到chcp.json文件内，因为每次更新或者发布app都会使热更新服务重新生成chcp.json文件内容<br>值得注意的是，这条命令一运行，热更新服务的运行窗口也会报相应的日志<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-0386c299e9515172.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-02-16_20-10-53.png\"></li>\n</ol>\n<p>可见这条命令不仅生成chcp.json内容这么简单。然后再说我发现的一个问题，执行ionic serve 就会chcp.json又改回原来的了，所以打包build的时候要小心一点。</p>\n<ol>\n<li>build安卓包 <code>ionic cordova build android</code><br>到这一步，编译完android包以后记得再看一下配置，这回要看app里面的。<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-11068a510e2fbf35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-02-16_20-17-13.png\"></li>\n</ol>\n<p>别又是什么ngrok内网穿透的地址，这就不好玩了，不对的话，把www里面的chcp.json内容复制过来替换一下。</p>\n<p>8.最后一步就直接打开安装好的app了，改一下html内容,用<code>ionic serve</code> 编译一下，把app关掉重新开一下，就可以看到热更新改的东西了。<br>注意：我这边测试热更新是用模拟器的，用真的小伙伴注意下你的地址是不是手机可以访问哦！</p>\n","site":{"data":{}},"excerpt":"","more":"<p>这热更新简直了，其实看网上配来配去就这几步，但自己一配就立马遇上很多问题，主要还是细节方面处理不够到位。索性自己也开一篇，防止自己忘了。</p>\n<ol>\n<li><p>进入自己的ionic项目根目录下 启动 ionic服务  <code>ionic serve</code></p>\n</li>\n<li><p>安装ionic native 热更新插件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova plugin add cordova-hot-code-push-plugin</span><br><span class=\"line\">ionic cordova plugin add cordova-hot-code-push-local-dev-addon</span><br><span class=\"line\">npm install -g cordova-hot-code-push-cli</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>当然了还要确保自己已经安装了android平台（没安装可以执行 <code>ionic cordova platform add android</code>）</p>\n<ol>\n<li>在config.xml配置文件中加入下面节点<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;chcp&gt;</span><br><span class=\"line\">&lt;config-file url=&quot;http://192.168.1.76:8121/chcp.json&quot; /&gt;</span><br><span class=\"line\">&lt;native-interface version=&quot;1&quot; /&gt;</span><br><span class=\"line\">&lt;/chcp&gt;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>上面那个地址是你远程服务器存放www文件夹路径的地址 ，当然我这个地址<a href=\"http://192.168.1.76:8121是通过http-server\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121是通过http-server</a> -p 8121 在www目录下开服务拿的地址。是本地的一个服务。</p>\n<ol>\n<li><p>热更新服务开启 <code>cordova-hcp server</code>  还有如果运行命令正常www目录下会有 有chcp.json和chcp.manifest文件出现。到这一步你就知道为什么第三步要配这个地址了。</p>\n</li>\n<li><p>在项目根目录下新建模板 cordova-hcp.json</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">&quot;content_url&quot;: &quot;http://192.168.1.76:8121&quot;,</span><br><span class=\"line\">&quot;autogenerated&quot;: true,</span><br><span class=\"line\">&quot;update&quot;: &quot;now&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<p>这一步配置完后急的访问下，<br><a href=\"http://192.168.1.76:8121\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121</a> 访问的是ionic项目的首页<br><a href=\"http://192.168.1.76:8121/chcp.json\" target=\"_blank\" rel=\"noopener\">http://192.168.1.76:8121/chcp.json</a> 也要能访问到</p>\n<ol>\n<li>以后发布执行<code>cordova-hcp build</code>命令，就可以把模板内容替换到chcp.json文件内，因为每次更新或者发布app都会使热更新服务重新生成chcp.json文件内容<br>值得注意的是，这条命令一运行，热更新服务的运行窗口也会报相应的日志<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-0386c299e9515172.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-02-16_20-10-53.png\"></li>\n</ol>\n<p>可见这条命令不仅生成chcp.json内容这么简单。然后再说我发现的一个问题，执行ionic serve 就会chcp.json又改回原来的了，所以打包build的时候要小心一点。</p>\n<ol>\n<li>build安卓包 <code>ionic cordova build android</code><br>到这一步，编译完android包以后记得再看一下配置，这回要看app里面的。<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-11068a510e2fbf35.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-02-16_20-17-13.png\"></li>\n</ol>\n<p>别又是什么ngrok内网穿透的地址，这就不好玩了，不对的话，把www里面的chcp.json内容复制过来替换一下。</p>\n<p>8.最后一步就直接打开安装好的app了，改一下html内容,用<code>ionic serve</code> 编译一下，把app关掉重新开一下，就可以看到热更新改的东西了。<br>注意：我这边测试热更新是用模拟器的，用真的小伙伴注意下你的地址是不是手机可以访问哦！</p>\n"},{"title":"ionic篇学习笔记-部署项目编","date":"2018-03-18T05:35:00.000Z","_content":"##1.启动ionic项目\n首先是随便都能查到的npm安装命令\n```\nnpm install -g ionic cordova\nionic start myIonicProject blank\ncd myIonicProject\nionic serve\n```\n看一下项目目录，了解一下\n首先src里存放的ionic的angular代码\n其次www 里存放的是src里的typescript代码编译后的注入的js代码，当然还有其他的东西，比如说图片，sass编译后注入的css代码，都是用webpack打包编译生成。\nwww很重要，就算ionic打包android安装包也是把www移过去。\n##2.配置移动开发环境\n其中ios的开发环境如果是苹果电脑就不用配了，ios只能在苹果上开发。\nandroid的环境配置网上一大堆，就是安装sdk配下环境变量。如果想要贪便宜，可以直接下个androidStudio，神器啊，快速帮助新手配置环境。\n##3.打包android安装包\n首先先给ionic项目添加支持的平台，在项目目录下运行命令行\n```\nionic cordova platform\n```\n能看到一大串支持的平台列表(android、ios、browser)和已经安装的平台\n运行命令安装ionic的android平台\n```\nionic cordova platform add android\n```\n添加完以后，可以看到目录下的platforms文件夹下多了个android文件夹，里面就是android项目代码，然后再运行命令build一下android平台的代码。\n```\nionic cordova build android\n```\n这行命令行就是为了更新android平台下的代码，其中就有把www替换android项目里的www。\n\n在mac下build完以后，最好进到上一层目录, sudo chmod -R 777 myIonicProject\n不然可能androidStudio没权限打开，windows下也应该用管理员权限设置一下。\n\n值得一提的是，这个build很多人都会出现问题，如果是android环境没配好，确保你的androidStudio能新建一个项目并成功跑起来。然后如果对android开发不太熟，不知道gradle怎么用怎么打包的筒子（作者我～～）,直接用androidStudio打开ionic编译后生成的android项目，就是那个platform下的android文件夹。androidStudio会自动帮你构建项目。\n\n我在androidStudio编译项目时遇到了一些问题，如果编译失败，除了网速问题（科学上网）以外，还遇到过\n![Jietu20171218-134359@2x.png](https://upload-images.jianshu.io/upload_images/6114493-80d4abe9ba203c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n这种问题，现在ionic build项目我已经没遇见了，前几个月build一次遇见一次。\n直接去 https://www.imooc.com/article/21867 看，找到问题6就行了。\n\nandroid项目导入androidStudio没问题以后，直接运行，就能看到自己的app跑起来了。\n\nionic项目开发起来很方便，但是真正难的就是他的底层环境配置。也不能说他坑，因为他是基于cordova开发的，cordova配置环境本来就很坑。打个cordova的jar包用官方的命令根本打不起来，遇上了好多问题，最后在androidStudio的帮助下才成功。\n\n","source":"_posts/ionic篇学习笔记-部署项目编.md","raw":"---\ntitle: ionic篇学习笔记-部署项目编\ndate: 2018-03-18 13:35:00\ncategories:\n- ionic\ntags:\n- 部署\n---\n##1.启动ionic项目\n首先是随便都能查到的npm安装命令\n```\nnpm install -g ionic cordova\nionic start myIonicProject blank\ncd myIonicProject\nionic serve\n```\n看一下项目目录，了解一下\n首先src里存放的ionic的angular代码\n其次www 里存放的是src里的typescript代码编译后的注入的js代码，当然还有其他的东西，比如说图片，sass编译后注入的css代码，都是用webpack打包编译生成。\nwww很重要，就算ionic打包android安装包也是把www移过去。\n##2.配置移动开发环境\n其中ios的开发环境如果是苹果电脑就不用配了，ios只能在苹果上开发。\nandroid的环境配置网上一大堆，就是安装sdk配下环境变量。如果想要贪便宜，可以直接下个androidStudio，神器啊，快速帮助新手配置环境。\n##3.打包android安装包\n首先先给ionic项目添加支持的平台，在项目目录下运行命令行\n```\nionic cordova platform\n```\n能看到一大串支持的平台列表(android、ios、browser)和已经安装的平台\n运行命令安装ionic的android平台\n```\nionic cordova platform add android\n```\n添加完以后，可以看到目录下的platforms文件夹下多了个android文件夹，里面就是android项目代码，然后再运行命令build一下android平台的代码。\n```\nionic cordova build android\n```\n这行命令行就是为了更新android平台下的代码，其中就有把www替换android项目里的www。\n\n在mac下build完以后，最好进到上一层目录, sudo chmod -R 777 myIonicProject\n不然可能androidStudio没权限打开，windows下也应该用管理员权限设置一下。\n\n值得一提的是，这个build很多人都会出现问题，如果是android环境没配好，确保你的androidStudio能新建一个项目并成功跑起来。然后如果对android开发不太熟，不知道gradle怎么用怎么打包的筒子（作者我～～）,直接用androidStudio打开ionic编译后生成的android项目，就是那个platform下的android文件夹。androidStudio会自动帮你构建项目。\n\n我在androidStudio编译项目时遇到了一些问题，如果编译失败，除了网速问题（科学上网）以外，还遇到过\n![Jietu20171218-134359@2x.png](https://upload-images.jianshu.io/upload_images/6114493-80d4abe9ba203c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n这种问题，现在ionic build项目我已经没遇见了，前几个月build一次遇见一次。\n直接去 https://www.imooc.com/article/21867 看，找到问题6就行了。\n\nandroid项目导入androidStudio没问题以后，直接运行，就能看到自己的app跑起来了。\n\nionic项目开发起来很方便，但是真正难的就是他的底层环境配置。也不能说他坑，因为他是基于cordova开发的，cordova配置环境本来就很坑。打个cordova的jar包用官方的命令根本打不起来，遇上了好多问题，最后在androidStudio的帮助下才成功。\n\n","slug":"ionic篇学习笔记-部署项目编","published":1,"updated":"2018-11-25T10:25:50.715Z","_id":"cjowje90k0000cjaaci8fs6b0","comments":1,"layout":"post","photos":[],"link":"","content":"<p>##1.启动ionic项目<br>首先是随便都能查到的npm安装命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ionic cordova</span><br><span class=\"line\">ionic start myIonicProject blank</span><br><span class=\"line\">cd myIonicProject</span><br><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure></p>\n<p>看一下项目目录，了解一下<br>首先src里存放的ionic的angular代码<br>其次www 里存放的是src里的typescript代码编译后的注入的js代码，当然还有其他的东西，比如说图片，sass编译后注入的css代码，都是用webpack打包编译生成。<br>www很重要，就算ionic打包android安装包也是把www移过去。</p>\n<p>##2.配置移动开发环境<br>其中ios的开发环境如果是苹果电脑就不用配了，ios只能在苹果上开发。<br>android的环境配置网上一大堆，就是安装sdk配下环境变量。如果想要贪便宜，可以直接下个androidStudio，神器啊，快速帮助新手配置环境。</p>\n<p>##3.打包android安装包<br>首先先给ionic项目添加支持的平台，在项目目录下运行命令行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova platform</span><br></pre></td></tr></table></figure></p>\n<p>能看到一大串支持的平台列表(android、ios、browser)和已经安装的平台<br>运行命令安装ionic的android平台<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova platform add android</span><br></pre></td></tr></table></figure></p>\n<p>添加完以后，可以看到目录下的platforms文件夹下多了个android文件夹，里面就是android项目代码，然后再运行命令build一下android平台的代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova build android</span><br></pre></td></tr></table></figure></p>\n<p>这行命令行就是为了更新android平台下的代码，其中就有把www替换android项目里的www。</p>\n<p>在mac下build完以后，最好进到上一层目录, sudo chmod -R 777 myIonicProject<br>不然可能androidStudio没权限打开，windows下也应该用管理员权限设置一下。</p>\n<p>值得一提的是，这个build很多人都会出现问题，如果是android环境没配好，确保你的androidStudio能新建一个项目并成功跑起来。然后如果对android开发不太熟，不知道gradle怎么用怎么打包的筒子（作者我～～）,直接用androidStudio打开ionic编译后生成的android项目，就是那个platform下的android文件夹。androidStudio会自动帮你构建项目。</p>\n<p>我在androidStudio编译项目时遇到了一些问题，如果编译失败，除了网速问题（科学上网）以外，还遇到过<br><img src=\"https://upload-images.jianshu.io/upload_images/6114493-80d4abe9ba203c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Jietu20171218-134359@2x.png\"><br>这种问题，现在ionic build项目我已经没遇见了，前几个月build一次遇见一次。<br>直接去 <a href=\"https://www.imooc.com/article/21867\" target=\"_blank\" rel=\"noopener\">https://www.imooc.com/article/21867</a> 看，找到问题6就行了。</p>\n<p>android项目导入androidStudio没问题以后，直接运行，就能看到自己的app跑起来了。</p>\n<p>ionic项目开发起来很方便，但是真正难的就是他的底层环境配置。也不能说他坑，因为他是基于cordova开发的，cordova配置环境本来就很坑。打个cordova的jar包用官方的命令根本打不起来，遇上了好多问题，最后在androidStudio的帮助下才成功。</p>\n","site":{"data":{}},"excerpt":"","more":"<p>##1.启动ionic项目<br>首先是随便都能查到的npm安装命令<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g ionic cordova</span><br><span class=\"line\">ionic start myIonicProject blank</span><br><span class=\"line\">cd myIonicProject</span><br><span class=\"line\">ionic serve</span><br></pre></td></tr></table></figure></p>\n<p>看一下项目目录，了解一下<br>首先src里存放的ionic的angular代码<br>其次www 里存放的是src里的typescript代码编译后的注入的js代码，当然还有其他的东西，比如说图片，sass编译后注入的css代码，都是用webpack打包编译生成。<br>www很重要，就算ionic打包android安装包也是把www移过去。</p>\n<p>##2.配置移动开发环境<br>其中ios的开发环境如果是苹果电脑就不用配了，ios只能在苹果上开发。<br>android的环境配置网上一大堆，就是安装sdk配下环境变量。如果想要贪便宜，可以直接下个androidStudio，神器啊，快速帮助新手配置环境。</p>\n<p>##3.打包android安装包<br>首先先给ionic项目添加支持的平台，在项目目录下运行命令行<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova platform</span><br></pre></td></tr></table></figure></p>\n<p>能看到一大串支持的平台列表(android、ios、browser)和已经安装的平台<br>运行命令安装ionic的android平台<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova platform add android</span><br></pre></td></tr></table></figure></p>\n<p>添加完以后，可以看到目录下的platforms文件夹下多了个android文件夹，里面就是android项目代码，然后再运行命令build一下android平台的代码。<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ionic cordova build android</span><br></pre></td></tr></table></figure></p>\n<p>这行命令行就是为了更新android平台下的代码，其中就有把www替换android项目里的www。</p>\n<p>在mac下build完以后，最好进到上一层目录, sudo chmod -R 777 myIonicProject<br>不然可能androidStudio没权限打开，windows下也应该用管理员权限设置一下。</p>\n<p>值得一提的是，这个build很多人都会出现问题，如果是android环境没配好，确保你的androidStudio能新建一个项目并成功跑起来。然后如果对android开发不太熟，不知道gradle怎么用怎么打包的筒子（作者我～～）,直接用androidStudio打开ionic编译后生成的android项目，就是那个platform下的android文件夹。androidStudio会自动帮你构建项目。</p>\n<p>我在androidStudio编译项目时遇到了一些问题，如果编译失败，除了网速问题（科学上网）以外，还遇到过<br><img src=\"https://upload-images.jianshu.io/upload_images/6114493-80d4abe9ba203c9c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Jietu20171218-134359@2x.png\"><br>这种问题，现在ionic build项目我已经没遇见了，前几个月build一次遇见一次。<br>直接去 <a href=\"https://www.imooc.com/article/21867\" target=\"_blank\" rel=\"noopener\">https://www.imooc.com/article/21867</a> 看，找到问题6就行了。</p>\n<p>android项目导入androidStudio没问题以后，直接运行，就能看到自己的app跑起来了。</p>\n<p>ionic项目开发起来很方便，但是真正难的就是他的底层环境配置。也不能说他坑，因为他是基于cordova开发的，cordova配置环境本来就很坑。打个cordova的jar包用官方的命令根本打不起来，遇上了好多问题，最后在androidStudio的帮助下才成功。</p>\n"},{"title":"angular4学习笔记整理（一）","date":"2018-01-12T13:35:00.000Z","_content":"好久没写点东西了，毕业刚刚回到上海，就马上出差去了杭州去做app h5的webview开发，用的是ionic3，ionic现在学习还没学完，现在就把自己学到的angular的笔记整理一下。\n## angular 的 nodejs安装\n```\nnpm install -g angular\nnpm -g install @angular/cli    angular命令行工具安装\n```\n用typescript来写node需要引入一个包\n```\nnpm i @types/node --save\n```\n## angular cli常用的command\nng new 项目名称          新建angular项目\nng g component xxx  生成组件\nng g service xxx  生成服务     \n## jquery的使用\n其实angular4里可以使用jquery了，不用像angular1里面使用类似jq的元素选择器，不过其中需要一点配置。\n1. npm安装jq \n```\nnpm install jquery --save\n```\n2. 在angular-cli.json  里的app 配置文件里面 的styles、scripts里面添加js或者css的相对路径,就放在app的script里面，里面还有一个框的是bootstrap\n![Screenshot 2018-01-12_19-03-46.png](http://upload-images.jianshu.io/upload_images/6114493-648480aa2acad151.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n3. 由于typescript 不认识js的东西，还需要一个 类型描述文件\n```\nnpm install @types/jquery --save\n```\n## 指令的简单运用\n像下面这样一段代码基本即看懂，*ngFor循环数组 ，js的class样式控制用这种[class.xxxx]=\"xx\" 这种方式\n```\nhtml\n<p >\n<span *ngFor=\"let star of stars\" class=\"glyphicon glyphicon-star\"\n[class.glyphicon-star-empty]=\"star\"></span>\n{{rating}}\n</p>\nts\n@Component({\nselector: 'app-stars',\ntemplateUrl: './stars.component.html',\nstyleUrls: ['./stars.component.css']\n})\n\nexport class StarsComponent{\nprivate rating: number = 0;\nprivate stars: boolean[];\nconstructor() { }\n}\n```\n## 父组件向子组件传递数据 \n子组件代码就是上面一段代码，它需要父组件输入一个rating属性，父组件调用子组件，只需在html里面调用子组件的html标签，输入属性用[]扩起来\n```\n<app-stars [rating]=\"product.rating\"></app-stars>\n```\n输入属性：这种属性绑定  是输入数据的绑定方式\n\n然后子组件里面的代码也需要改一下，将rating设置为输入属性\n```\nexport class StarsComponent implements OnInit {\n@Input()        通过这个input输入标注     声明rating会被父组件输入的属性覆盖\nprivate rating: number = 0;//默认\n}\n```\n\n","source":"_posts/angular4学习笔记整理（一）.md","raw":"---\ntitle: angular4学习笔记整理（一）\ndate: 2018-01-12 21:35:00\ncategories:\n- angular\n---\n好久没写点东西了，毕业刚刚回到上海，就马上出差去了杭州去做app h5的webview开发，用的是ionic3，ionic现在学习还没学完，现在就把自己学到的angular的笔记整理一下。\n## angular 的 nodejs安装\n```\nnpm install -g angular\nnpm -g install @angular/cli    angular命令行工具安装\n```\n用typescript来写node需要引入一个包\n```\nnpm i @types/node --save\n```\n## angular cli常用的command\nng new 项目名称          新建angular项目\nng g component xxx  生成组件\nng g service xxx  生成服务     \n## jquery的使用\n其实angular4里可以使用jquery了，不用像angular1里面使用类似jq的元素选择器，不过其中需要一点配置。\n1. npm安装jq \n```\nnpm install jquery --save\n```\n2. 在angular-cli.json  里的app 配置文件里面 的styles、scripts里面添加js或者css的相对路径,就放在app的script里面，里面还有一个框的是bootstrap\n![Screenshot 2018-01-12_19-03-46.png](http://upload-images.jianshu.io/upload_images/6114493-648480aa2acad151.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\n\n3. 由于typescript 不认识js的东西，还需要一个 类型描述文件\n```\nnpm install @types/jquery --save\n```\n## 指令的简单运用\n像下面这样一段代码基本即看懂，*ngFor循环数组 ，js的class样式控制用这种[class.xxxx]=\"xx\" 这种方式\n```\nhtml\n<p >\n<span *ngFor=\"let star of stars\" class=\"glyphicon glyphicon-star\"\n[class.glyphicon-star-empty]=\"star\"></span>\n{{rating}}\n</p>\nts\n@Component({\nselector: 'app-stars',\ntemplateUrl: './stars.component.html',\nstyleUrls: ['./stars.component.css']\n})\n\nexport class StarsComponent{\nprivate rating: number = 0;\nprivate stars: boolean[];\nconstructor() { }\n}\n```\n## 父组件向子组件传递数据 \n子组件代码就是上面一段代码，它需要父组件输入一个rating属性，父组件调用子组件，只需在html里面调用子组件的html标签，输入属性用[]扩起来\n```\n<app-stars [rating]=\"product.rating\"></app-stars>\n```\n输入属性：这种属性绑定  是输入数据的绑定方式\n\n然后子组件里面的代码也需要改一下，将rating设置为输入属性\n```\nexport class StarsComponent implements OnInit {\n@Input()        通过这个input输入标注     声明rating会被父组件输入的属性覆盖\nprivate rating: number = 0;//默认\n}\n```\n\n","slug":"angular4学习笔记整理（一）","published":1,"updated":"2018-11-25T10:25:29.771Z","_id":"cjowjfbef0000claatsf30nt3","comments":1,"layout":"post","photos":[],"link":"","content":"<p>好久没写点东西了，毕业刚刚回到上海，就马上出差去了杭州去做app h5的webview开发，用的是ionic3，ionic现在学习还没学完，现在就把自己学到的angular的笔记整理一下。</p>\n<h2 id=\"angular-的-nodejs安装\"><a href=\"#angular-的-nodejs安装\" class=\"headerlink\" title=\"angular 的 nodejs安装\"></a>angular 的 nodejs安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g angular</span><br><span class=\"line\">npm -g install @angular/cli    angular命令行工具安装</span><br></pre></td></tr></table></figure>\n<p>用typescript来写node需要引入一个包<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i @types/node --save</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"angular-cli常用的command\"><a href=\"#angular-cli常用的command\" class=\"headerlink\" title=\"angular cli常用的command\"></a>angular cli常用的command</h2><p>ng new 项目名称          新建angular项目<br>ng g component xxx  生成组件<br>ng g service xxx  生成服务     </p>\n<h2 id=\"jquery的使用\"><a href=\"#jquery的使用\" class=\"headerlink\" title=\"jquery的使用\"></a>jquery的使用</h2><p>其实angular4里可以使用jquery了，不用像angular1里面使用类似jq的元素选择器，不过其中需要一点配置。</p>\n<ol>\n<li><p>npm安装jq </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install jquery --save</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在angular-cli.json  里的app 配置文件里面 的styles、scripts里面添加js或者css的相对路径,就放在app的script里面，里面还有一个框的是bootstrap<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-648480aa2acad151.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-01-12_19-03-46.png\"></p>\n</li>\n<li><p>由于typescript 不认识js的东西，还需要一个 类型描述文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @types/jquery --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"指令的简单运用\"><a href=\"#指令的简单运用\" class=\"headerlink\" title=\"指令的简单运用\"></a>指令的简单运用</h2><p>像下面这样一段代码基本即看懂，*ngFor循环数组 ，js的class样式控制用这种[class.xxxx]=”xx” 这种方式<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html</span><br><span class=\"line\">&lt;p &gt;</span><br><span class=\"line\">&lt;span *ngFor=&quot;let star of stars&quot; class=&quot;glyphicon glyphicon-star&quot;</span><br><span class=\"line\">[class.glyphicon-star-empty]=&quot;star&quot;&gt;&lt;/span&gt;</span><br><span class=\"line\">&#123;&#123;rating&#125;&#125;</span><br><span class=\"line\">&lt;/p&gt;</span><br><span class=\"line\">ts</span><br><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">selector: &apos;app-stars&apos;,</span><br><span class=\"line\">templateUrl: &apos;./stars.component.html&apos;,</span><br><span class=\"line\">styleUrls: [&apos;./stars.component.css&apos;]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">export class StarsComponent&#123;</span><br><span class=\"line\">private rating: number = 0;</span><br><span class=\"line\">private stars: boolean[];</span><br><span class=\"line\">constructor() &#123; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"父组件向子组件传递数据\"><a href=\"#父组件向子组件传递数据\" class=\"headerlink\" title=\"父组件向子组件传递数据\"></a>父组件向子组件传递数据</h2><p>子组件代码就是上面一段代码，它需要父组件输入一个rating属性，父组件调用子组件，只需在html里面调用子组件的html标签，输入属性用[]扩起来<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-stars [rating]=&quot;product.rating&quot;&gt;&lt;/app-stars&gt;</span><br></pre></td></tr></table></figure></p>\n<p>输入属性：这种属性绑定  是输入数据的绑定方式</p>\n<p>然后子组件里面的代码也需要改一下，将rating设置为输入属性<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class StarsComponent implements OnInit &#123;</span><br><span class=\"line\">@Input()        通过这个input输入标注     声明rating会被父组件输入的属性覆盖</span><br><span class=\"line\">private rating: number = 0;//默认</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n","site":{"data":{}},"excerpt":"","more":"<p>好久没写点东西了，毕业刚刚回到上海，就马上出差去了杭州去做app h5的webview开发，用的是ionic3，ionic现在学习还没学完，现在就把自己学到的angular的笔记整理一下。</p>\n<h2 id=\"angular-的-nodejs安装\"><a href=\"#angular-的-nodejs安装\" class=\"headerlink\" title=\"angular 的 nodejs安装\"></a>angular 的 nodejs安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g angular</span><br><span class=\"line\">npm -g install @angular/cli    angular命令行工具安装</span><br></pre></td></tr></table></figure>\n<p>用typescript来写node需要引入一个包<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm i @types/node --save</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"angular-cli常用的command\"><a href=\"#angular-cli常用的command\" class=\"headerlink\" title=\"angular cli常用的command\"></a>angular cli常用的command</h2><p>ng new 项目名称          新建angular项目<br>ng g component xxx  生成组件<br>ng g service xxx  生成服务     </p>\n<h2 id=\"jquery的使用\"><a href=\"#jquery的使用\" class=\"headerlink\" title=\"jquery的使用\"></a>jquery的使用</h2><p>其实angular4里可以使用jquery了，不用像angular1里面使用类似jq的元素选择器，不过其中需要一点配置。</p>\n<ol>\n<li><p>npm安装jq </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install jquery --save</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在angular-cli.json  里的app 配置文件里面 的styles、scripts里面添加js或者css的相对路径,就放在app的script里面，里面还有一个框的是bootstrap<br><img src=\"http://upload-images.jianshu.io/upload_images/6114493-648480aa2acad151.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" alt=\"Screenshot 2018-01-12_19-03-46.png\"></p>\n</li>\n<li><p>由于typescript 不认识js的东西，还需要一个 类型描述文件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @types/jquery --save</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h2 id=\"指令的简单运用\"><a href=\"#指令的简单运用\" class=\"headerlink\" title=\"指令的简单运用\"></a>指令的简单运用</h2><p>像下面这样一段代码基本即看懂，*ngFor循环数组 ，js的class样式控制用这种[class.xxxx]=”xx” 这种方式<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html</span><br><span class=\"line\">&lt;p &gt;</span><br><span class=\"line\">&lt;span *ngFor=&quot;let star of stars&quot; class=&quot;glyphicon glyphicon-star&quot;</span><br><span class=\"line\">[class.glyphicon-star-empty]=&quot;star&quot;&gt;&lt;/span&gt;</span><br><span class=\"line\">&#123;&#123;rating&#125;&#125;</span><br><span class=\"line\">&lt;/p&gt;</span><br><span class=\"line\">ts</span><br><span class=\"line\">@Component(&#123;</span><br><span class=\"line\">selector: &apos;app-stars&apos;,</span><br><span class=\"line\">templateUrl: &apos;./stars.component.html&apos;,</span><br><span class=\"line\">styleUrls: [&apos;./stars.component.css&apos;]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">export class StarsComponent&#123;</span><br><span class=\"line\">private rating: number = 0;</span><br><span class=\"line\">private stars: boolean[];</span><br><span class=\"line\">constructor() &#123; &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n<h2 id=\"父组件向子组件传递数据\"><a href=\"#父组件向子组件传递数据\" class=\"headerlink\" title=\"父组件向子组件传递数据\"></a>父组件向子组件传递数据</h2><p>子组件代码就是上面一段代码，它需要父组件输入一个rating属性，父组件调用子组件，只需在html里面调用子组件的html标签，输入属性用[]扩起来<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;app-stars [rating]=&quot;product.rating&quot;&gt;&lt;/app-stars&gt;</span><br></pre></td></tr></table></figure></p>\n<p>输入属性：这种属性绑定  是输入数据的绑定方式</p>\n<p>然后子组件里面的代码也需要改一下，将rating设置为输入属性<br><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export class StarsComponent implements OnInit &#123;</span><br><span class=\"line\">@Input()        通过这个input输入标注     声明rating会被父组件输入的属性覆盖</span><br><span class=\"line\">private rating: number = 0;//默认</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjowizp820001b7aa9rl29p5h","category_id":"cjowpy94r0000q9aatryens0r","_id":"cjowpy94s0001q9aa8hekzgur"},{"post_id":"cjowjfbef0000claatsf30nt3","category_id":"cjowpy94r0000q9aatryens0r","_id":"cjowpzc1h0000szaa3ksnpuwl"},{"post_id":"cjowizay70000b4aat4k51q7n","category_id":"cjowpy94r0000q9aatryens0r","_id":"cjowpzinu0001szaado94c3b4"},{"post_id":"cjowj0c570000b9aaug7pg9zt","category_id":"cjowpy94r0000q9aatryens0r","_id":"cjowpzlug0002szaaedmy7o15"},{"post_id":"cjowjcoxf0000ceaam8bkz6g2","category_id":"cjowpzr0w0003szaaewu02nwc","_id":"cjowpzr0w0004szaayv5ygvfu"},{"post_id":"cjowjcw340000cfaapwjlwlpf","category_id":"cjowpzr0w0003szaaewu02nwc","_id":"cjowpzwtq0005szaannjd8lo7"},{"post_id":"cjowje90k0000cjaaci8fs6b0","category_id":"cjowpzr0w0003szaaewu02nwc","_id":"cjowq01ho0006szaargkiiaj6"},{"post_id":"cjowitk910000a2aaublupczi","category_id":"cjowq06au0007szaalbi3zrpq","_id":"cjowq06au0008szaaym90p073"}],"PostTag":[{"post_id":"cjowizp820001b7aa9rl29p5h","tag_id":"cjowqa6jd0000ueaaljizvi0f","_id":"cjowqa6je0001ueaaqt3k2zk4"},{"post_id":"cjowizay70000b4aat4k51q7n","tag_id":"cjowqalar0002ueaayhzz7j2v","_id":"cjowqalar0003ueaa9a9hx6z0"},{"post_id":"cjowje90k0000cjaaci8fs6b0","tag_id":"cjowqmx1m0004ueaaqdbur83w","_id":"cjowqmx1n0005ueaac2yeibl0"},{"post_id":"cjowjcw340000cfaapwjlwlpf","tag_id":"cjowqnfye0006ueaadog4raez","_id":"cjowqnfyf0007ueaag2rgnqpi"},{"post_id":"cjowj0c570000b9aaug7pg9zt","tag_id":"cjowqo4fp0008ueaa9y7m3um1","_id":"cjowqo4fq000aueaagoo2vx25"},{"post_id":"cjowj0c570000b9aaug7pg9zt","tag_id":"cjowqo4fp0009ueaa8mcwglek","_id":"cjowqo4fq000bueaayjl60wu3"},{"post_id":"cjowjcoxf0000ceaam8bkz6g2","tag_id":"cjowqokx6000cueaalv22k37q","_id":"cjowqokx6000dueaara6fws1r"}],"Tag":[{"name":"angular4","_id":"cjowkvov90000d4aa9mxqyntz"},{"name":"angular","_id":"cjowkyhi30000j3aak94qpzur"},{"name":"service","_id":"cjowqa6jd0000ueaaljizvi0f"},{"name":"router","_id":"cjowqalar0002ueaayhzz7j2v"},{"name":"部署","_id":"cjowqmx1m0004ueaaqdbur83w"},{"name":"hot codePush","_id":"cjowqnfye0006ueaadog4raez"},{"name":"pipe","_id":"cjowqo4fp0008ueaa9y7m3um1"},{"name":"emit","_id":"cjowqo4fp0009ueaa8mcwglek"},{"name":"webview","_id":"cjowqokx6000cueaalv22k37q"}]}}